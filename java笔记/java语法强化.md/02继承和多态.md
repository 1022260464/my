# 02ç»§æ‰¿å’Œå¤šæ€

- [ ] è®¤è¯†ç»§æ‰¿
- [ ] æƒé™ä¿®é¥°ç¬¦
- [ ] ç»§æ‰¿çš„ç‰¹ç‚¹
- [ ] æ–¹æ³•é‡å†™
- [ ] å­ç±»æ„é€ å™¨çš„ç‰¹ç‚¹

---

# â˜• Java OOP æ ¸å¿ƒç¬”è®°ï¼šç»§æ‰¿ä¸å¤šæ€

---

# ğŸ“š Java é¢å‘å¯¹è±¡æ ¸å¿ƒç¬”è®°ï¼šå•ç»§æ‰¿è¯¦è§£

## 1. è®¤è¯†ç»§æ‰¿ (Inheritance)

### 1.1 ä»€ä¹ˆæ˜¯ç»§æ‰¿ï¼Ÿ

ç»§æ‰¿æ˜¯ Java é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆOOPï¼‰çš„ä¸‰å¤§ç‰¹å¾ä¹‹ä¸€ï¼ˆå°è£…ã€ç»§æ‰¿ã€å¤šæ€ï¼‰ã€‚å®ƒå…è®¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„ç±»ï¼ˆå­ç±»/æ´¾ç”Ÿç±»ï¼‰ï¼Œä»å·²æœ‰çš„ç±»ï¼ˆçˆ¶ç±»/è¶…ç±»/åŸºç±»ï¼‰é‚£é‡Œç›´æ¥è·å¾—å±æ€§å’Œæ–¹æ³•ã€‚

- â€‹**æ ¸å¿ƒå…³é”®å­—**â€‹ï¼š`extends`
- â€‹**æ ¼å¼**ï¼š
- â€‹**æœ¬è´¨é€»è¾‘**â€‹ï¼š**is-a** å…³ç³»ã€‚ä¾‹å¦‚ï¼š`Student is a Person`â€‹ï¼ˆå­¦ç”Ÿæ˜¯ä¸€ä¸ªäººï¼‰ï¼Œ`Dog is an Animal`ï¼ˆç‹—æ˜¯ä¸€ç§åŠ¨ç‰©ï¼‰ã€‚

### 1.2 ç»§æ‰¿çš„å¥½å¤„

1. â€‹**ä»£ç å¤ç”¨**ï¼šçˆ¶ç±»å†™ä¸€æ¬¡ï¼Œæ‰€æœ‰å­ç±»éƒ½èƒ½ç”¨ã€‚
2. â€‹**ä¾¿äºç»´æŠ¤**ï¼šä¿®æ”¹çˆ¶ç±»é€»è¾‘ï¼Œæ‰€æœ‰å­ç±»è‡ªåŠ¨åŒæ­¥æ›´æ–°ã€‚
3. â€‹**å¤šæ€çš„å‰æ**ï¼šæ²¡æœ‰ç»§æ‰¿å°±æ²¡æœ‰å¤šæ€ã€‚

### 1.3 å†…å­˜ä¸­çš„ç»§æ‰¿ï¼ˆé‡è¦ï¼‰

å½“åˆ›å»ºä¸€ä¸ªå­ç±»å¯¹è±¡æ—¶ï¼Œå†…å­˜ä¸­ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ

- åœ¨å †å†…å­˜ï¼ˆHeapï¼‰ä¸­ï¼Œå­ç±»å¯¹è±¡å…¶å®**åŒ…å«**äº†ä¸€ä¸ªçˆ¶ç±»å¯¹è±¡çš„â€œåˆ†èº«â€ã€‚
- å³ï¼šå­ç±»å¯¹è±¡ \= çˆ¶ç±»çš„éƒ¨åˆ† + å­ç±»ç‰¹æœ‰çš„éƒ¨åˆ†ã€‚

---

## 2. æƒé™ä¿®é¥°ç¬¦ (Access Modifiers)

åœ¨ç»§æ‰¿å…³ç³»ä¸­ï¼Œæœ€é‡è¦çš„å°±æ˜¯ææ¸…æ¥šï¼š**çˆ¸çˆ¸çš„ä¸œè¥¿ï¼Œå„¿å­åˆ°åº•èƒ½ä¸èƒ½ç”¨ï¼Ÿ**

Java æœ‰å››ç§æƒé™ä¿®é¥°ç¬¦ï¼ŒæŒ‰è®¿é—®èƒ½åŠ›ä»å¤§åˆ°å°æ’åˆ—å¦‚ä¸‹ï¼š

|**ä¿®é¥°ç¬¦**|**å…³é”®å­—**|**æœ¬ç±»ä¸­**|**æœ¬åŒ…ä¸­ (å­ç±»/æ— å…³ç±»)**|**ä¸åŒåŒ…çš„å­ç±»**|**ä¸åŒåŒ…çš„æ— å…³ç±»**|||||||
| --| -----------| ----| ----| ----| ----| --| --| --| --| --| --|
|**å…¬å…±**|â€‹`public`|âœ…|âœ…| **âœ…**|âœ…|||||||
|**å—ä¿æŠ¤**|â€‹`protected`|âœ…|âœ…| **âœ… (é‡ç‚¹)**|âŒ|||||||
|**é»˜è®¤**|(default)|âœ…|âœ…|âŒ|âŒ|||||||
|**ç§æœ‰**|â€‹`private`|âœ…|âŒ|âŒ|âŒ|||||||

### ç»§æ‰¿ä¸­çš„ç‰¹æ®Šè¯´æ˜ï¼š

1. â€‹**â€‹`private`â€‹**â€‹  **(ç§æœ‰)** ï¼š

   - **èƒ½ç»§æ‰¿å—ï¼Ÿ**  ä¸¥æ ¼æ¥è¯´ï¼Œâ€‹**èƒ½ç»§æ‰¿**ï¼ˆå­ç±»å¯¹è±¡å†…å­˜é‡Œç¡®å®æœ‰è¿™ä¸ªå­—æ®µï¼‰ã€‚
   - **èƒ½è®¿é—®å—ï¼Ÿ**  â€‹**ä¸èƒ½ç›´æ¥è®¿é—®**â€‹ã€‚å„¿å­æ‹¥æœ‰çˆ¶äº²çš„ç§æˆ¿é’±ï¼Œä½†çˆ¶äº²é”åœ¨ä¿é™©æŸœé‡Œï¼Œå„¿å­æ‰“ä¸å¼€ã€‚å¿…é¡»é€šè¿‡çˆ¶ç±»æä¾›çš„ `public`â€‹ çš„ `get/set` æ–¹æ³•æ¥é—´æ¥è®¿é—®ã€‚
2. â€‹**â€‹`protected`â€‹**â€‹  **(å—ä¿æŠ¤)** ï¼š

   - è¿™æ˜¯ä¸“é—¨ä¸ºç»§æ‰¿è®¾è®¡çš„ã€‚å®ƒçš„å«ä¹‰æ˜¯ï¼šâ€œå¤–äººï¼ˆä¸åŒåŒ…æ— å…³ç±»ï¼‰ä¸èƒ½åŠ¨ï¼Œä½†æˆ‘çš„â€‹**å­å­™åä»£**ï¼ˆå“ªæ€•åœ¨å¤©æ¶¯æµ·è§’çš„ä¸åŒåŒ…é‡Œï¼‰å¯ä»¥åŠ¨â€ã€‚

---

## 3. ç»§æ‰¿çš„ç‰¹ç‚¹

Java çš„ç»§æ‰¿æœºåˆ¶éå¸¸ä¸¥æ ¼ï¼Œæœ‰ä»¥ä¸‹ä¸‰ä¸ªé“å¾‹ï¼š

### 3.1 å•ç»§æ‰¿ (Single Inheritance)

- â€‹**è§„åˆ™**â€‹ï¼šä¸€ä¸ªå­ç±»åªèƒ½æœ‰ä¸€ä¸ª**ç›´æ¥**çˆ¶ç±»ã€‚
- â€‹**ä»£ç ä½“ç°**ï¼š
- â€‹**åŸå› **â€‹ï¼šä¸ºäº†é˜²æ­¢â€œé’»çŸ³é—®é¢˜â€ï¼ˆå¦‚æœ B å’Œ C éƒ½æœ‰ `run()` æ–¹æ³•ï¼ŒA ç»§æ‰¿è°çš„ï¼ŸJava ä¸ºäº†å®‰å…¨é¿å¼€äº†è¿™ä¸ªé—®é¢˜ï¼‰ã€‚

### 3.2 å¤šå±‚ç»§æ‰¿ (Transitivity)

- â€‹**è§„åˆ™**ï¼šç»§æ‰¿æ˜¯å¯ä»¥ä¼ é€’çš„ã€‚
- â€‹**ä¾‹å­**ï¼šC ç»§æ‰¿ Bï¼ŒB ç»§æ‰¿ Aã€‚é‚£ä¹ˆ C ä¸ä»…æœ‰ B çš„åŠŸèƒ½ï¼Œä¹Ÿæœ‰ A çš„åŠŸèƒ½ã€‚

  > çˆ·çˆ· -\> çˆ¸çˆ¸ -\> å­™å­ï¼ˆå­™å­æ‹¥æœ‰çˆ·çˆ·çš„åŸºå› ï¼‰ã€‚
  >

### 3.3 æ‰€æœ‰ç±»çš„ç¥–å®—ï¼š`Object` ç±»

- â€‹**è§„åˆ™**â€‹ï¼šå¦‚æœä¸€ä¸ªç±»æ²¡æœ‰æ˜¾å¼åœ°å†™ `extends`â€‹ï¼Œé‚£ä¹ˆå®ƒé»˜è®¤ç»§æ‰¿ `Object` ç±»ã€‚
- â€‹`Object`â€‹ æ˜¯ Java ç±»å±‚çº§ç»“æ„çš„æ ¹ï¼ˆRootï¼‰ã€‚è¿™ä¹Ÿå°±æ˜¯ä¸ºä»€ä¹ˆä»»ä½•å¯¹è±¡éƒ½èƒ½è°ƒç”¨ `toString()`â€‹ã€`equals()` æ–¹æ³•çš„åŸå› ã€‚

### 3.4å°±è¿‘åŸåˆ™ï¼š

- ç»§æ‰¿åå­ç±»è®¿é—®æˆå‘˜çš„ç‰¹ç‚¹ï¼š**å°±è¿‘åŸåˆ™**

  **ä¼˜å…ˆè®¿é—®è‡ªå·±ç±»ä¸­ï¼Œè‡ªå·±ç±»ä¸­çš„æ²¡æœ‰æ‰ä¼šè®¿é—®çˆ¶ç±»**

- **åœ¨å­ç±»æ–¹æ³•ä¸­è®¿é—®å…¶ä»–æˆå‘˜ï¼ˆæˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•ï¼‰ï¼Œæ˜¯ä¾ç…§å°±è¿‘åŸåˆ™çš„ã€‚**   
  å…ˆå­ç±»å±€éƒ¨èŒƒå›´æ‰¾ï¼Œç„¶åå­ç±»æˆå‘˜èŒƒå›´æ‰¾ï¼Œç„¶åçˆ¶ç±»æˆå‘˜èŒƒå›´æ‰¾ï¼Œå¦‚æœçˆ¶ç±»èŒƒå›´è¿˜æ²¡æœ‰æ‰¾åˆ°åˆ™æŠ¥é”™ã€‚

- **å¦‚æœå­çˆ¶ç±»ä¸­ï¼Œå‡ºç°äº†é‡åçš„æˆå‘˜ï¼Œä¼šä¼˜å…ˆä½¿ç”¨å­ç±»çš„ï¼Œ** å¦‚æœæ­¤æ—¶ä¸€å®šè¦åœ¨å­ç±»ä¸­ä½¿ç”¨çˆ¶ç±»çš„æ€ä¹ˆåŠï¼Ÿ  
  å¯ä»¥é€šè¿‡superå…³é”®å­—ï¼ŒæŒ‡å®šè®¿é—®çˆ¶ç±»çš„æˆå‘˜ï¼š

---

## 4. æ–¹æ³•é‡å†™ (Override)

å½“çˆ¶ç±»çš„æ–¹æ³•æ— æ³•æ»¡è¶³å­ç±»çš„éœ€æ±‚æ—¶ï¼Œå­ç±»å¯ä»¥é‡å†™è¯¥æ–¹æ³•ã€‚

### 4.1 ä»€ä¹ˆæ˜¯é‡å†™ï¼Ÿ

- â€‹**åœºæ™¯**â€‹ï¼šçˆ¶ç±»æœ‰ `call()` æ–¹æ³•ï¼ˆæ‰“ç”µè¯ï¼‰ï¼Œå­ç±»æ‰‹æœºæƒ³åœ¨æ‰“ç”µè¯å‰å¢åŠ â€œæ˜¾ç¤ºå¤´åƒâ€çš„åŠŸèƒ½ã€‚
- â€‹**å®ç°**â€‹ï¼šå­ç±»å®šä¹‰ä¸€ä¸ªä¸çˆ¶ç±»**æ–¹æ³•ç­¾åå®Œå…¨ä¸€æ ·**çš„æ–¹æ³•ã€‚

### 4.2 å¿…é¡»éµå®ˆçš„è§„åˆ™ (é‡ç‚¹é¢è¯•é¢˜)

æˆ‘ä»¬å¯ä»¥æ€»ç»“ä¸ºï¼š **â€œä¸¤åŒã€ä¸¤å°ã€ä¸€å¤§â€**

1. â€‹**ä¸¤åŒ**ï¼š

   - **æ–¹æ³•å**å¿…é¡»ç›¸åŒã€‚
   - **å‚æ•°åˆ—è¡¨**å¿…é¡»ç›¸åŒã€‚
2. â€‹**ä¸€å¤§ (æƒé™)** ï¼š

   - â€‹**å­ç±»æ–¹æ³•çš„è®¿é—®æƒé™** **$\ge$** **çˆ¶ç±»æ–¹æ³•çš„è®¿é—®æƒé™**ã€‚
   - *ä¾‹å­*ï¼šçˆ¶ç±»æ˜¯ `protected`â€‹ï¼Œå­ç±»å¯ä»¥æ˜¯ `protected`â€‹ æˆ– `public`â€‹ï¼Œä½†ä¸èƒ½æ˜¯ `private`ï¼ˆä¸èƒ½è¶Šæ´»è¶Šå›å»ï¼‰ã€‚(ä¸èƒ½è¶Šæƒè®¿é—®ï¼Œç­‰çº§æ£®ä¸¥è¿™ä¸€å—)
3. â€‹**ä¸¤å° (è¿”å›å€¼ä¸å¼‚å¸¸)** ï¼š

   - â€‹**è¿”å›å€¼ç±»å‹**â€‹ï¼šå­ç±»æ–¹æ³•çš„è¿”å›å€¼ç±»å‹ï¼Œå¿…é¡»ä¸çˆ¶ç±»ç›¸åŒï¼Œæˆ–è€…æ˜¯çˆ¶ç±»è¿”å›ç±»å‹çš„â€‹**å­ç±»**ã€‚
   - â€‹**æŠ›å‡ºçš„å¼‚å¸¸**ï¼šå­ç±»æŠ›å‡ºçš„å¼‚å¸¸ä¸èƒ½æ¯”çˆ¶ç±»æ›´å¤šï¼ˆåªèƒ½æ˜¯çˆ¶ç±»å¼‚å¸¸çš„å­ç±»æˆ–ä¸æŠ›å‡ºï¼‰ã€‚

### 4.3 æ ¸å¿ƒæ³¨æ„äº‹é¡¹

- â€‹ **â€‹`@Override`â€‹**â€‹ **æ³¨è§£**ï¼šå¼ºçƒˆå»ºè®®å†™ä¸Šï¼å®ƒèƒ½å¸®ç¼–è¯‘å™¨æ£€æŸ¥ä½ æ˜¯ä¸æ˜¯å†™é”™äº†ï¼ˆæ¯”å¦‚åå­—æ‰“é”™å­—æ¯ï¼‰ï¼Œèµ·åˆ°å®‰å…¨æ ¡éªŒçš„ä½œç”¨ã€‚
- **ç§æœ‰æ–¹æ³•ä¸èƒ½é‡å†™**ï¼šçˆ¶ç±»çš„ `private` æ–¹æ³•å¯¹å­ç±»ä¸å¯è§ï¼Œå­ç±»å°±ç®—å†™äº†ä¸€ä¸ªä¸€æ¨¡ä¸€æ ·çš„ï¼Œé‚£ä¹Ÿä¸å«é‡å†™ï¼Œé‚£å«å­ç±»è‡ªå·±æ–°å®šä¹‰äº†ä¸€ä¸ªæ–¹æ³•ã€‚

---

# ï¼ï¼ï¼**å®é™…å¼€å‘è¿‡ç¨‹å½“ä¸­ï¼Œç›´æ¥å†™ä¸€æ ·çš„è¿”å›ç±»å‹å°±å¥½äº†ï¼ï¼ï¼è®¿é—®æƒé™å¯ä»¥æ›´å¤§ï¼Œä½†ä¸€èˆ¬éƒ½æ˜¯ä½¿ç”¨publicå’Œprivate**

---

## 5. å­ç±»æ„é€ å™¨çš„ç‰¹ç‚¹ (Constructor)

è¿™æ˜¯ç»§æ‰¿ä¸­æœ€å®¹æ˜“å‡ºé”™çš„åœ°æ–¹ã€‚â€‹**æ„é€ å™¨æ˜¯ä¸èƒ½è¢«ç»§æ‰¿çš„**â€‹ï¼ˆä½ ä¸èƒ½è¯´å„¿å­ç›´æ¥ç»§æ‰¿äº†çˆ¸çˆ¸çš„åå­—ï¼‰ï¼Œä½†å­ç±»åˆå§‹åŒ–æ—¶**å¿…é¡»è°ƒç”¨**çˆ¶ç±»çš„æ„é€ å™¨ã€‚

### 5.1 æ ¸å¿ƒåŸåˆ™

> **å­ç±»æ„é€ å™¨æ‰§è¡Œæ—¶ï¼Œå¿…é¡»å…ˆæ‰§è¡Œçˆ¶ç±»çš„æ„é€ å™¨ã€‚**

ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºå­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„æ•°æ®ï¼Œåœ¨å­ç±»åˆå§‹åŒ–ä¹‹å‰ï¼Œå¿…é¡»å…ˆè®©çˆ¶ç±»æŠŠæ•°æ®åˆå§‹åŒ–å¥½ï¼ˆå…ˆæœ‰çˆ¸çˆ¸ï¼Œæ‰æœ‰å„¿å­ï¼‰ã€‚

### 5.2 ä»£ç æ‰§è¡Œæµç¨‹

1. â€‹**éšå¼è°ƒç”¨ (**â€‹**â€‹`super()`â€‹** â€‹ **)** â€‹ï¼š  
   å¦‚æœä½ åœ¨å­ç±»æ„é€ å™¨é‡Œä»€ä¹ˆéƒ½ä¸å†™ï¼ŒJava ç¼–è¯‘å™¨ä¼š**é»˜è®¤**åœ¨ç¬¬ä¸€è¡ŒåŠ ä¸Š `super();`â€‹ï¼Œå³è°ƒç”¨çˆ¶ç±»çš„â€‹**æ— å‚æ„é€ å™¨**ã€‚
2. â€‹**æ˜¾å¼è°ƒç”¨ (**â€‹**â€‹`super(å‚æ•°)`â€‹** â€‹ **)** â€‹ï¼š  
   å¦‚æœçˆ¶ç±»â€‹**æ²¡æœ‰æ— å‚æ„é€ å™¨**â€‹ï¼ˆåªå†™äº†å¸¦å‚æ„é€ å™¨ï¼‰ï¼Œé‚£ä¹ˆå­ç±»å¿…é¡»åœ¨æ„é€ å™¨çš„â€‹**ç¬¬ä¸€è¡Œ**â€‹ï¼Œæ‰‹åŠ¨å†™ä¸Š `super(å‚æ•°)` æ¥è°ƒç”¨çˆ¶ç±»çš„å¸¦å‚æ„é€ å™¨ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ã€‚
3. â€‹**â€‹`this(...)`â€‹** â€‹ **å’Œ** **â€‹`super(...)`â€‹** â€‹ **çš„å†²çª**ï¼š

   - â€‹`super(...)` å¿…é¡»åœ¨ç¬¬ä¸€è¡Œã€‚
   - â€‹`this(...)` (è°ƒç”¨æœ¬ç±»å…¶ä»–æ„é€ å™¨) ä¹Ÿå¿…é¡»åœ¨ç¬¬ä¸€è¡Œã€‚
   - **ç»“è®º**ï¼šåœ¨åŒä¸€ä¸ªæ„é€ å™¨ä¸­ï¼Œ`super(...)`â€‹ å’Œ `this(...)`â€‹ **ä¸èƒ½åŒæ—¶å‡ºç°**ã€‚
4. **â€‹`this(...)`â€‹** â€‹ **è°ƒç”¨å…„å¼Ÿæ„é€ å™¨** çš„æ ¸å¿ƒè¦ç‚¹ï¼Œå¯ä»¥æŠŠå®ƒçœ‹ä½œæ˜¯  **â€œæ„é€ å™¨å†…éƒ¨çš„å¤–åŒ…æœºåˆ¶â€** ã€‚

   ### 1. æ ¸å¿ƒå®šä¹‰

   - **å«ä¹‰**ï¼šåœ¨åŒä¸€ä¸ªç±»ä¸­ï¼Œä¸€ä¸ªæ„é€ å™¨å»è°ƒç”¨å¦ä¸€ä¸ªæ„é€ å™¨ã€‚
   - **ç›®çš„**ï¼š**å¤ç”¨ä»£ç **ï¼ˆDRY åŸåˆ™ï¼‰ã€‚é˜²æ­¢åœ¨å¤šä¸ªæ„é€ å™¨é‡Œå†™é‡å¤çš„åˆå§‹åŒ–ä»£ç ï¼ˆå¦‚ `this.name = name` å†™å¥½å‡ éï¼‰ã€‚

   ### 2. æœ€ä½³å®è·µæ¨¡å¼ï¼šæ¼æ–—æ¨¡å¼ (The Funnel)

    **â€œå°æ„é€ å™¨â€ è°ƒç”¨ â€œå¤§æ„é€ å™¨â€ã€‚**

   - **å¤§æ„é€ å™¨**ï¼ˆå…¨å‚ï¼‰ï¼šè´Ÿè´£çœŸæ­£å¹²æ´»ï¼ŒåŒ…å«æ‰€æœ‰çš„åˆå§‹åŒ–é€»è¾‘ã€‚
   - **å°æ„é€ å™¨**ï¼ˆæ— å‚/å°‘å‚ï¼‰ï¼šåªè´Ÿè´£**ç»™é»˜è®¤å€¼**ï¼Œç„¶åæŠŠæ´»å„¿**å¤–åŒ…**ç»™å¤§æ„é€ å™¨ã€‚

   ### 3. ä¸‰å¤§é“å¾‹ (æ­»è§„çŸ©)

   1. **ä½ç½®éœ¸é“**ï¼š`this(...)`â€‹ å¿…é¡»å†™åœ¨æ„é€ å™¨çš„ **ç¬¬ä¸€è¡Œ**ï¼ˆå’Œ `super` ä¸€æ ·éœ¸é“ï¼‰ã€‚
   2. **ä¸€å±±ä¸å®¹äºŒè™**ï¼šåŒä¸€ä¸ªæ„é€ å™¨é‡Œï¼Œ**ä¸èƒ½**åŒæ—¶å‡ºç° `this(...)`â€‹ å’Œ `super(...)`ã€‚ï¼ˆå› ä¸ºéƒ½äº‰ç¬¬ä¸€è¡Œï¼‰ã€‚
   3. **ç¦æ­¢å¥—å¨ƒ**ï¼šä¸¥ç¦é€’å½’è°ƒç”¨ï¼ˆA è°ƒ Bï¼ŒB åˆè°ƒ Aï¼‰ï¼Œç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚

   ### 4. ä¸€çœ¼çœ‹æ‡‚çš„ä»£ç æ¨¡æ¿

   ```java
   // 1. å…¨å‚æ„é€ å™¨ï¼ˆå¤§å“¥ï¼‰ï¼šçœŸæ­£å¹²æ´»çš„ï¼Œå¤„äºæ¼æ–—æœ€åº•å±‚
   public Hero(String name, int hp) {
       this.name = name;
       this.hp = hp;
   }

   // 2. æ— å‚æ„é€ å™¨ï¼ˆå°å¼Ÿï¼‰ï¼šåªç»™é»˜è®¤å€¼ï¼Œè½¬æ‰‹åŒ…ç»™å¤§å“¥
   public Hero() {
       // ç¿»è¯‘ï¼šæˆ‘æ²¡å‚æ•°ï¼Œä½†æˆ‘å§”æ‰˜å¤§å“¥åˆ›å»ºä¸€ä¸ªå«"è·¯äººç”²"ã€è¡€é‡100çš„äºº
       this("è·¯äººç”²", 100); 
   }

   ```

---

### æ€»ç»“å›¾è°±

- â€‹**ç»§æ‰¿**â€‹ï¼š`extends`â€‹ï¼Œå•ç»§æ‰¿ï¼ŒæŸ¥æ‰¾å…³ç³»æ˜¯ `this`â€‹ -\> `super`â€‹ -\> `super`...
- â€‹**ä¿®é¥°ç¬¦**â€‹ï¼š`private`â€‹ (çˆ¶ç±»ç‹¬æœ‰), `protected`â€‹ (ä¼ å®¶å®), `public` (å¤§å®¶ç”¨)ã€‚
- â€‹**é‡å†™**ï¼šæ–¹æ³•å¤´å®Œå…¨ä¸€è‡´ï¼Œæƒé™ä¸èƒ½å˜å°ï¼Œé€»è¾‘å˜æ–°ã€‚
- â€‹**æ„é€ å™¨**â€‹ï¼šâ€‹**å…ˆçˆ¶åå­**â€‹ï¼Œç¬¬ä¸€è¡Œå¿…é¡»æ˜¯ `super`ï¼ˆæ˜¾å¼æˆ–éšå¼ï¼‰ã€‚

---

## ç¬¬äºŒéƒ¨åˆ†ï¼šå¤šæ€ (Polymorphism) â€”â€” â€œèŠ±æœ¨å…°æ›¿çˆ¶ä»å†›â€

å¤šæ€æ˜¯ Java é¢å‘å¯¹è±¡ä¸­æœ€éš¾ç†è§£ï¼Œä½†æœ€å¼ºå¤§çš„éƒ¨åˆ†ã€‚

### 1. ä»€ä¹ˆæ˜¯å¤šæ€ï¼Ÿ

â€‹**å­—é¢æ„æ€**ï¼šä¸€ç§äº‹ç‰©ï¼Œå¤šç§å½¢æ€ã€‚

â€‹**ä»£ç æ„æ€**â€‹ï¼š**çˆ¶ç±»çš„å¼•ç”¨ï¼ŒæŒ‡å‘äº†å­ç±»çš„å¯¹è±¡ã€‚**

è¿™æ˜¯å¤šæ€çš„ç»ˆæå…¬å¼ï¼š

$$
\text{Parent} \quad \text{obj} = \text{new} \quad \text{Child}();
$$

### 2. ä¸ºä»€ä¹ˆéœ€è¦å¤šæ€ï¼Ÿï¼ˆç”ŸåŠ¨æ¡ˆä¾‹ï¼‰

å‡è®¾æ‚¨åœ¨å†™ä¸€ä¸ªâ€œæˆ˜åœºæ¨¡æ‹Ÿå™¨â€ï¼Œéœ€è¦è®©æ‰€æœ‰è‹±é›„ä¸€èµ·æ”»å‡»ã€‚

**å¦‚æœæ²¡æœ‰å¤šæ€ï¼š**

Java

```
// ä½ éœ€è¦ç»™æ¯ä¸ªèŒä¸šå†™ä¸€ä¸ªæ–¹æ³•
public void warriorAttack(Warrior w) { w.attack(); }
public void mageAttack(Mage m) { m.attack(); }
public void archerAttack(Archer a) { a.attack(); }
// å¦‚æœä»¥åå‡ºäº†ä¸ªâ€œåˆºå®¢â€ï¼Œä½ è¿˜å¾—å›æ¥æ”¹ä»£ç åŠ æ–¹æ³•ï¼Œå¤ªç´¯äº†ï¼
```

**æœ‰äº†å¤šæ€ï¼š**

æ‚¨åªéœ€è¦çœ‹ä»–ä»¬çš„å…±åŒèº«ä»½â€”â€”`Hero`ã€‚

Java

```
// åªéœ€è¦å†™ä¸€ä¸ªæ–¹æ³•ï¼Œæ¥æ”¶æ‰€æœ‰ Hero çš„å­ç±»ï¼
public void makeHeroAttack(Hero h) {
    h.attack(); // è¿™é‡Œçš„ h å…·ä½“æ˜¯è°ï¼Ÿè¿è¡Œçš„æ—¶å€™æ‰çŸ¥é“ï¼
}
```

### 3. å¤šæ€çš„ä¸‰å¤§å‰æ

è¦æƒ³å®ç°å¤šæ€ï¼Œç¼ºä¸€ä¸å¯ï¼š

1. **è¦æœ‰ç»§æ‰¿å…³ç³»** (`Warrior extends Hero`)
2. **è¦æœ‰æ–¹æ³•é‡å†™** (å­ç±»é‡å†™äº† `attack` æ–¹æ³•)
3. **çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡** (`Hero h = new Warrior()`)

### 4. è¯¦ç»†ä»£ç æ¼”ç¤ºï¼ˆä»å†…å­˜çœ‹æœ¬è´¨ï¼‰

Java

```
// 1. çˆ¶ç±»
class Hero {
    void attack() {
        System.out.println("è‹±é›„ç”¨æ‹³å¤´æ”»å‡»");
    }
}

// 2. å­ç±» Warrior é‡å†™æ–¹æ³•
class Warrior extends Hero {
    @Override
    void attack() {
        System.out.println("æˆ˜å£«æŒ¥èˆå¤§å‰‘åŠˆç ï¼");
    }
    
    void defense() {
        System.out.println("æˆ˜å£«ä¸¾ç›¾é˜²å¾¡");
    }
}

// 3. å­ç±» Mage é‡å†™æ–¹æ³•
class Mage extends Hero {
    @Override
    void attack() {
        System.out.println("æ³•å¸ˆé‡Šæ”¾å¤§ç«çƒï¼");
    }
}

public class GameStart {
    public static void main(String[] args) {
        // --- å‘ä¸Šè½¬å‹ (Upcasting) ---
        // è¿™é‡Œçš„ h å°±åƒæ˜¯â€œèŠ±æœ¨å…°â€
        // å¥¹çš„å¤–è¡¨ï¼ˆç¼–è¯‘ç±»å‹ï¼‰æ˜¯ Heroï¼ˆçˆ¶äº²ï¼‰
        // å¥¹çš„çµé­‚ï¼ˆè¿è¡Œç±»å‹ï¼‰æ˜¯ Warriorï¼ˆå¥³å„¿ï¼‰
        Hero h = new Warrior(); 
        
        // --- æ ¸å¿ƒçœ‹ç‚¹ ---
        // ç¼–è¯‘çœ‹å·¦è¾¹ï¼šç¼–è¯‘å™¨å» check Hero ç±»é‡Œæœ‰æ²¡æœ‰ attack æ–¹æ³•ï¼Ÿæœ‰ï¼Œç¼–è¯‘é€šè¿‡ã€‚
        // è¿è¡Œçœ‹å³è¾¹ï¼šçœŸæ­£è¿è¡Œçš„æ—¶å€™ï¼Œæ‰§è¡Œçš„æ˜¯ Warrior çš„ attack æ–¹æ³•ï¼
        h.attack(); // è¾“å‡ºï¼šæˆ˜å£«æŒ¥èˆå¤§å‰‘åŠˆç ï¼
        
        // h.defense(); // æŠ¥é”™ï¼
        // ä¸ºä»€ä¹ˆï¼Ÿå› ä¸ºèŠ±æœ¨å…°ç°åœ¨ç©¿ç€çˆ¶äº²çš„é“ ç”²ï¼Œçˆ¶äº²æ²¡æœ‰â€œä¸¾ç›¾â€è¿™ä¸ªæŠ€èƒ½ï¼Œ
        // åªæœ‰å¸ä¸‹ä¼ªè£…ï¼ˆå‘ä¸‹è½¬å‹ï¼‰æ‰èƒ½ç”¨ã€‚
    }
}
```

---

## ç¬¬ä¸‰éƒ¨åˆ†ï¼šæ·±æ°´åŒº â€”â€” è½¬å‹ä¸ `instanceof`

æ—¢ç„¶çˆ¶ç±»å¼•ç”¨ (`Hero h`â€‹) çœ‹ä¸åˆ°å­ç±»ç‰¹æœ‰çš„æ–¹æ³• (`defense`)ï¼Œé‚£å¦‚æœæˆ‘éè¦ç”¨å­ç±»ç‰¹æœ‰çš„æ–¹æ³•æ€ä¹ˆåŠï¼Ÿ

### 1. å‘ä¸‹è½¬å‹ (Downcasting) â€”â€” â€œå¸ä¸‹ä¼ªè£…â€

æˆ‘ä»¬éœ€è¦å¼ºåˆ¶æŠŠ `Hero`â€‹ ç±»å‹çš„å¼•ç”¨å˜å› `Warrior` ç±»å‹ã€‚

Java

```
Hero h = new Warrior();
h.attack(); // å¤šæ€è°ƒç”¨

// å¼ºåˆ¶ç±»å‹è½¬æ¢
Warrior w = (Warrior) h;
w.defense(); // æˆåŠŸï¼ç°åœ¨å¯ä»¥ä½¿ç”¨æˆ˜å£«çš„ç‰¹æœ‰æŠ€èƒ½äº†
```

### 2. åªæœ‰ç‰¹å®šæƒ…å†µæ‰èƒ½å¼ºè½¬

å¦‚æœä½ çš„å¯¹è±¡æœ¬è´¨æ˜¯æ³•å¸ˆï¼Œä½ éè¦æŠŠå®ƒè½¬æˆæˆ˜å£«ï¼Œå°±ä¼šå‡ºå¤§é—®é¢˜ï¼š

Java

```
Hero h = new Mage(); // æœ¬è´¨æ˜¯ Mage
Warrior w = (Warrior) h; // ç¼–è¯‘ä¸æŠ¥é”™ï¼Œä½†è¿è¡Œä¼šæŠ¥ ClassCastExceptionï¼ï¼ˆç±»å‹è½¬æ¢å¼‚å¸¸ï¼‰
// å°±åƒä½ æŒ‡ç€ä¸€åªçŒ«è¯´ï¼šâ€œå˜æˆç‹—ï¼â€ è¿™æ˜¯ä¸å¯èƒ½çš„ã€‚
```

### 3. å®‰å…¨é”ï¼š`instanceof`

åœ¨å¼ºè½¬ä¹‹å‰ï¼ŒåŠ¡å¿…åˆ¤æ–­ä¸€ä¸‹â€œä½ åˆ°åº•æ˜¯ä¸æ˜¯è¿™ä¸ªç±»å‹â€ï¼š

- ### 2. è¯­æ³•æ ¼å¼

  Java

  ```
  boolean result = å¯¹è±¡å¼•ç”¨ instanceof ç±»å;
  ```

  - â€‹**å·¦è¾¹**ï¼šæ˜¯ä¸€ä¸ªå¼•ç”¨å˜é‡ï¼ˆå¯¹è±¡ï¼‰ã€‚
  - â€‹**å³è¾¹**ï¼šæ˜¯ä¸€ä¸ªç±»ï¼ˆæˆ–æ¥å£ï¼‰ã€‚
  - â€‹**ç»“æœ**â€‹ï¼šè¿”å› `true`â€‹ï¼ˆæ˜¯è¿™ä¸ªç±»å‹ï¼‰æˆ– `false`ï¼ˆä¸æ˜¯ï¼‰ã€‚

Java

```
public void checkHero(Hero h) {
    if (h instanceof Warrior) {
        Warrior w = (Warrior) h;
        w.defense(); // å®‰å…¨è½¬å‹
        System.out.println("è¿™æ˜¯ä¸€ä¸ªæˆ˜å£«");
    } else if (h instanceof Mage) {
        Mage m = (Mage) h;
        // m.blink(); // å‡è®¾æ³•å¸ˆæœ‰é—ªç°
        System.out.println("è¿™æ˜¯ä¸€ä¸ªæ³•å¸ˆ");
    }
}
```

---

## ç¬¬å››éƒ¨åˆ†ï¼šç»¼åˆå®æˆ˜æ¡ˆä¾‹ â€”â€” ç®€æ˜“æ¸¸æˆå¼•æ“

è®©æˆ‘ä»¬ç”¨ä¸€ä¸ªå®Œæ•´çš„æ¡ˆä¾‹æŠŠç»§æ‰¿ã€é‡å†™ã€å¤šæ€ã€å‘ä¸Šè½¬å‹æ•´åˆèµ·æ¥ã€‚

â€‹**éœ€æ±‚**ï¼š

1. æœ‰ä¸€ä¸ª `GameEngine`ï¼ˆæ¸¸æˆå¼•æ“ï¼‰ã€‚
2. å®ƒå¯ä»¥æ¥æ”¶ä»»ä½•ç±»å‹çš„æ€ªç‰© `Monster`ã€‚
3. ä¸è®ºä¼ å…¥çš„æ˜¯ `Slime`â€‹ï¼ˆå²è±å§†ï¼‰è¿˜æ˜¯ `Dragon`ï¼ˆå·¨é¾™ï¼‰ï¼Œå¼•æ“éƒ½èƒ½è®©å®ƒä»¬å—åˆ°ä¼¤å®³ã€‚

Java

```
// 1. åŸºç±»ï¼šæ€ªç‰©
class Monster {
    String name;
    
    public Monster(String name) { this.name = name; }
    
    public void getHit() {
        System.out.println(name + " å—åˆ° 1 ç‚¹æ™®é€šä¼¤å®³ã€‚");
    }
}

// 2. å­ç±»ï¼šå²è±å§† (é‡å†™äº†å—ä¼¤é€»è¾‘)
class Slime extends Monster {
    public Slime() { super("å²è±å§†"); }
    
    @Override
    public void getHit() {
        System.out.println("å²è±å§†èº«ä½“å˜å½¢äº†ï¼Œåªå—åˆ° 0.5 ç‚¹ä¼¤å®³ï¼");
    }
    
    // å²è±å§†ç‰¹æœ‰æŠ€èƒ½
    public void split() {
        System.out.println("å²è±å§†åˆ†è£‚æˆäº†ä¸¤ä¸ªï¼");
    }
}

// 3. å­ç±»ï¼šå·¨é¾™ (é‡å†™äº†å—ä¼¤é€»è¾‘)
class Dragon extends Monster {
    public Dragon() { super("æ¶é¾™"); }
    
    @Override
    public void getHit() {
        System.out.println("æ¶é¾™é³ç‰‡å¤ªç¡¬ï¼Œå…ç–«äº†ä¼¤å®³ï¼");
    }
}

// 4. æ¸¸æˆä¸»é€»è¾‘
public class GameEngine {
    
    // ã€é‡ç‚¹ã€‘å‚æ•°å†™çˆ¶ç±» Monsterï¼Œå¯ä»¥æ¥æ”¶æ‰€æœ‰å­ç±»ï¼
    // è¿™å°±æ˜¯å¤šæ€å¸¦æ¥çš„â€œå¯æ‰©å±•æ€§â€
    public static void playerAttack(Monster m) {
        System.out.println("--- ç©å®¶å‘èµ·æ”»å‡» ---");
        // åŠ¨æ€ç»‘å®šï¼šè‡ªåŠ¨è°ƒç”¨ m çœŸå®ç±»å‹çš„æ–¹æ³•
        m.getHit(); 
        
        // å¦‚æœæ˜¯å²è±å§†ï¼Œæ‰“å®ƒä¸€ä¸‹å®ƒä¼šåˆ†è£‚
        if (m instanceof Slime) {
            Slime s = (Slime) m; // å‘ä¸‹è½¬å‹
            s.split();
        }
    }

    public static void main(String[] args) {
        Monster m1 = new Slime(); // å‘ä¸Šè½¬å‹
        Monster m2 = new Dragon(); // å‘ä¸Šè½¬å‹
        
        playerAttack(m1); // ä¼ å…¥å²è±å§†
        playerAttack(m2); // ä¼ å…¥å·¨é¾™
    }
}
```

**è¿è¡Œç»“æœï¼š**

Plaintext

```
--- ç©å®¶å‘èµ·æ”»å‡» ---
å²è±å§†èº«ä½“å˜å½¢äº†ï¼Œåªå—åˆ° 0.5 ç‚¹ä¼¤å®³ï¼
å²è±å§†åˆ†è£‚æˆäº†ä¸¤ä¸ªï¼
--- ç©å®¶å‘èµ·æ”»å‡» ---
æ¶é¾™é³ç‰‡å¤ªç¡¬ï¼Œå…ç–«äº†ä¼¤å®³ï¼
```

---

## æ€»ç»“ï¼šä¸€å¥è¯è®°ä½

1. â€‹**ç»§æ‰¿ (**â€‹**â€‹`extends`â€‹**â€‹ **)** â€‹ï¼šæ˜¯ä¸ºäº†â€‹**å¤ç”¨ä»£ç **ï¼Œè®©å­ç±»æ‹¥æœ‰çˆ¶ç±»çš„å±æ€§å’Œæ–¹æ³•ã€‚
2. â€‹**å¤šæ€ (Polymorphism)** â€‹ï¼šæ˜¯ä¸ºäº†â€‹**è§£è€¦**ï¼ˆé™ä½ä»£ç ä¾èµ–ï¼‰ï¼Œå†™ä»£ç æ—¶åªé¢å¯¹çˆ¶ç±»ï¼Œè¿è¡Œæ—¶è‡ªåŠ¨æ‰§è¡Œå­ç±»çš„é€»è¾‘ã€‚
3. â€‹**å£è¯€**ï¼š

   - â€‹**ç¼–è¯‘çœ‹å·¦è¾¹**ï¼ˆçˆ¶ç±»å¼•ç”¨å†³å®šäº†èƒ½è°ƒå“ªäº›æ–¹æ³•ï¼‰ã€‚
   - â€‹**è¿è¡Œçœ‹å³è¾¹**ï¼ˆå­ç±»å¯¹è±¡å†³å®šäº†æ‰§è¡Œçš„å…·ä½“é€»è¾‘ï¼‰ã€‚

â€
