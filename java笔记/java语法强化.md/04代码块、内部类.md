# 04ä»£ç å—ã€å†…éƒ¨ç±»

# ä»£ç å—ï¼š

---

### â˜• Java ç±»äº”å¤§æˆåˆ†ï¼šä»£ç å— (Code Block)

ä»£ç å—æ˜¯ç±»çš„ 5 å¤§æˆåˆ†ä¹‹ä¸€ï¼ˆæˆå‘˜å˜é‡ã€æ„é€ å™¨ã€æ–¹æ³•ã€â€‹**ä»£ç å—**â€‹ã€å†…éƒ¨ç±»ï¼‰ã€‚æ ¹æ®ä¿®é¥°ç¬¦çš„ä¸åŒï¼Œä¸»è¦åˆ†ä¸º **é™æ€ä»£ç å—** å’Œ â€‹**å®ä¾‹ä»£ç å—**ã€‚

#### 1. é™æ€ä»£ç å— (Static Code Block)

- **æ ¼å¼**ï¼š
- ```java
  static {
      // åˆå§‹åŒ–ä»£ç 
  }
  ```
- â€‹**ç‰¹ç‚¹**ï¼š

  - éšç€**ç±»çš„åŠ è½½**è€Œæ‰§è¡Œï¼Œè‡ªåŠ¨è§¦å‘ã€‚
  - å› ä¸ºç±»åªä¼šè¢«åŠ è½½ä¸€æ¬¡ï¼Œæ‰€ä»¥é™æ€ä»£ç å—â€‹**åªä¼šæ‰§è¡Œä¸€æ¬¡**ã€‚
- â€‹**ä½œç”¨**ï¼š

  - ç”¨äºå¯¹ç±»çš„åˆå§‹åŒ–ã€‚
  - é€šå¸¸ç”¨äºå¯¹ **é™æ€å˜é‡ (static)**  è¿›è¡Œåˆå§‹åŒ–èµ‹å€¼ã€‚

#### 2. å®ä¾‹ä»£ç å— (Instance Code Block)

- **æ ¼å¼**ï¼š
- ```java
  {
      // åˆå§‹åŒ–ä»£ç 
  }
  ```
- â€‹**ç‰¹ç‚¹**ï¼š

  - æ¯æ¬¡**åˆ›å»ºå¯¹è±¡ (new)**  æ—¶è‡ªåŠ¨æ‰§è¡Œã€‚
  - â€‹**æ‰§è¡Œæ—¶æœº**ï¼šä¼˜å…ˆäºæ„é€ å™¨æ‰§è¡Œï¼ˆåœ¨æ„é€ å™¨ä¹‹å‰ï¼‰ã€‚
- â€‹**ä½œç”¨**ï¼š

  - ç”¨äºå¯¹å¯¹è±¡çš„åˆå§‹åŒ–ã€‚
  - é€šå¸¸ç”¨äºå¯¹ **å®ä¾‹å˜é‡** è¿›è¡Œåˆå§‹åŒ–èµ‹å€¼ï¼Œæˆ–è€…å°†å¤šä¸ªæ„é€ å™¨ä¸­é‡å¤çš„åˆå§‹åŒ–ä»£ç æå–å‡ºæ¥ã€‚

---

### ğŸ†š å¯¹æ¯”æ€»ç»“

|**ç‰¹æ€§**|**é™æ€ä»£ç å— (Static Block)**|**å®ä¾‹ä»£ç å— (Instance Block)**||||
| --| --------------------------------| ---------------------------------| --| --| --|
|**å…³é”®å­—**|â€‹`static { }`|â€‹`{ }`||||
|**æ‰§è¡Œæ—¶æœº**|**ç±»åŠ è½½æ—¶**|**åˆ›å»ºå¯¹è±¡æ—¶**||||
|**æ‰§è¡Œæ¬¡æ•°**|å…¨å±€ä»…**1**æ¬¡|æ¯æ¬¡ new å¯¹è±¡éƒ½æ‰§è¡Œ||||
|**æ‰§è¡Œé¡ºåº**|æœ€å…ˆæ‰§è¡Œ|åœ¨æ„é€ å™¨ä¹‹å‰æ‰§è¡Œ||||
|**ä¸»è¦ç”¨é€”**|åˆå§‹åŒ–é™æ€èµ„æº (static fields)|åˆå§‹åŒ–å®ä¾‹èµ„æº / å¤ç”¨æ„é€ å™¨ä»£ç ||||

---

### ğŸ’» ä»£ç æ‰§è¡Œæ¼”ç¤º

ä¸ºäº†æ›´ç›´è§‚åœ°ç†è§£â€‹**æ‰§è¡Œé¡ºåº**ï¼Œå¯ä»¥å‚è€ƒä»¥ä¸‹ç¤ºä¾‹ï¼š

```java
package com.itheima.code;

import java.util.Arrays;

public class CodeDemo1 {
    public static String schoolName;
    public static String[] cards = new String[54];
    // é™æ€ä»£ç å—ï¼šæœ‰staticä¿®é¥°ï¼Œå±äºç±»ï¼Œä¸ç±»ä¸€èµ·ä¼˜å…ˆåŠ è½½ï¼Œè‡ªåŠ¨æ‰§è¡Œä¸€æ¬¡
    // åŸºæœ¬ä½œç”¨ï¼šå¯ä»¥å®Œæˆå¯¹ç±»çš„é™æ€èµ„æºçš„åˆå§‹åŒ–
    static {
        System.out.println("===é™æ€ä»£ç å—æ‰§è¡Œäº†====");
        schoolName = "é»‘é©¬ç¨‹åºå‘˜";
        cards[0] = "A";
        cards[1] = "2";
        cards[2] = "3";
        // ...
    }
    public static void main(String[] args) {
        // ç›®æ ‡ï¼š è®¤è¯†ä»£ç å—ï¼Œææ¸…æ¥šä»£ç å—çš„åŸºæœ¬ä½œç”¨ã€‚
        System.out.println("===mainæ–¹æ³•æ‰§è¡Œäº†====");
        System.out.println(schoolName);
        System.out.println(Arrays.toString(cards)); // è¿”å›æ•°ç»„çš„å†…å®¹è§‚å¯Ÿ
    }
}

```

# å®ä¾‹ä»£ç å—ï¼š

```java
package com.itheima.code;

public class CodeDemo2 {
    private String name;
    private String[] direction = new String[4]; // å®ä¾‹å˜é‡
    // å®ä¾‹ä»£ç å—ï¼šæ— staticä¿®é¥°ã€‚å±äºå¯¹è±¡ï¼Œæ¯æ¬¡åˆ›å»ºå¯¹è±¡æ—¶ï¼Œéƒ½ä¼šä¼˜å…ˆæ‰§è¡Œä¸€æ¬¡ã€‚
    // åŸºæœ¬ä½œç”¨ï¼šåˆå§‹åŒ–å¯¹è±¡çš„å®ä¾‹èµ„æºã€‚
    {
        System.out.println("=========å®ä¾‹ä»£ç å—æ‰§è¡Œäº†=========");
        name = "itheima"; // èµ‹å€¼
        direction[0] = "N";
        direction[1] = "S";
        direction[2] = "E";
        direction[3] = "W";
    }
    public static void main(String[] args) {
        // ç›®æ ‡ï¼šå®ä¾‹ä»£ç å—ã€‚
        System.out.println("=========mainæ–¹æ³•æ‰§è¡Œäº†=========");
        new CodeDemo2();
        new CodeDemo2();
        new CodeDemo2();
    }
}

```

â€

---

### ğŸ’¡ æ ¸å¿ƒè®°å¿†å£è¯€

> **é™æ€åªè·‘ä¸€æ¬¡ï¼Œå®ä¾‹è·Ÿç€å¯¹è±¡è·‘ï¼Œå®ä¾‹æ€»åœ¨æ„é€ å‰ã€‚**

è¿™ç±»çŸ¥è¯†ç‚¹åœ¨é¢è¯•æˆ–ç¬”è¯•ä¸­ï¼Œç»å¸¸ä¼šç»“åˆ\*\*ç»§æ‰¿ï¼ˆçˆ¶ç±»ä¸å­ç±»ï¼‰\*\*çš„åœºæ™¯æ¥è€ƒå¯Ÿæ‰§è¡Œé¡ºåºï¼ˆä¾‹å¦‚ï¼šçˆ¶ç±»é™æ€ -\> å­ç±»é™æ€ -\> çˆ¶ç±»å®ä¾‹/æ„é€  -\> å­ç±»å®ä¾‹/æ„é€ ï¼‰ã€‚

â€

# å†…éƒ¨ç±»:

ä¸ºä½ æ•´ç†å¥½äº†å…³äº Java **å†…éƒ¨ç±» (Inner Class)**  çš„æ ¸å¿ƒçŸ¥è¯†ç‚¹ç¬”è®°ã€‚å†…éƒ¨ç±»æ˜¯ç±»çš„äº”å¤§æˆåˆ†ä¹‹ä¸€ï¼ˆæˆå‘˜å˜é‡ã€æ–¹æ³•ã€æ„é€ å™¨ã€ä»£ç å—ã€â€‹**å†…éƒ¨ç±»**ï¼‰ã€‚

å®ƒä¸»è¦çš„ä½œç”¨æ˜¯ï¼šâ€‹**å¯ä»¥æ›´è½»æ¾åœ°è®¿é—®å¤–éƒ¨ç±»çš„ç§æœ‰æˆå‘˜ï¼ŒåŒæ—¶ä½“ç°ç±»ä¸ç±»ä¹‹é—´çš„åŒ…å«å…³ç³»**ã€‚

---

### â˜• Java å†…éƒ¨ç±»å››å¤§åˆ†ç±»æ•´ç†

#### 1. æˆå‘˜å†…éƒ¨ç±» (Member Inner Class)

- â€‹**å®šä¹‰ä½ç½®**ï¼šç±»ä¸­ã€æ–¹æ³•å¤–ï¼ˆå’Œæˆå‘˜å˜é‡å¹³çº§ï¼‰ã€‚
- â€‹**ä¿®é¥°ç¬¦**â€‹ï¼šæ—  `static` ä¿®é¥°ã€‚
- â€‹**ç‰¹ç‚¹**ï¼š

  - å±äºå¤–éƒ¨ç±»çš„â€‹**å¯¹è±¡**ï¼Œå¿…é¡»å…ˆæœ‰å¤–éƒ¨ç±»å¯¹è±¡ï¼Œæ‰èƒ½åˆ›å»ºæˆå‘˜å†…éƒ¨ç±»å¯¹è±¡ã€‚
  - å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ˆåŒ…æ‹¬ç§æœ‰ï¼‰ã€‚
  - â€‹**æ ¸å¿ƒè¯­æ³•**â€‹ï¼šå¦‚æœå‡ºç°åŒåå˜é‡ï¼Œè®¿é—®å¤–éƒ¨ç±»æˆå‘˜éœ€ä½¿ç”¨ `å¤–éƒ¨ç±»å.this.å˜é‡å`ã€‚
- **å®ä¾‹åŒ–æ–¹å¼**ï¼š
- ```java
  Outer.Inner in = new Outer().new Inner();
  ```

#### 2. é™æ€å†…éƒ¨ç±» (Static Inner Class)

- â€‹**å®šä¹‰ä½ç½®**ï¼šç±»ä¸­ã€æ–¹æ³•å¤–ã€‚
- â€‹**ä¿®é¥°ç¬¦**â€‹ï¼šæœ‰ `static` ä¿®é¥°ã€‚
- â€‹**ç‰¹ç‚¹**ï¼š

  - å±äºâ€‹**å¤–éƒ¨ç±»æœ¬èº«**ï¼Œä¸ä¾èµ–å¤–éƒ¨ç±»å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥åˆ›å»ºã€‚
  - â€‹**è®¿é—®é™åˆ¶**â€‹ï¼šåªèƒ½è®¿é—®å¤–éƒ¨ç±»çš„**é™æ€æˆå‘˜** (static)ï¼Œä¸èƒ½ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹æˆå‘˜ã€‚
  - æœ¬è´¨ä¸Šå°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„ç±»ï¼Œåªæ˜¯ä½ç½®æ”¾åœ¨äº†åˆ«çš„ç±»é‡Œé¢ã€‚
- **å®ä¾‹åŒ–æ–¹å¼**ï¼š

  ```java
  Outer.Inner in = new Outer.Inner();
  ```

#### 3. å±€éƒ¨å†…éƒ¨ç±» (Local Inner Class)

- â€‹**å®šä¹‰ä½ç½®**â€‹ï¼šâ€‹**æ–¹æ³•ä¸­**ã€ä»£ç å—ä¸­ã€æ„é€ å™¨ä¸­ã€‚
- â€‹**ç‰¹ç‚¹**ï¼š

  - â€‹**ç”Ÿå‘½å‘¨æœŸçŸ­**ï¼šå‡ºäº†æ–¹æ³•å°±æ— æ³•ä½¿ç”¨äº†ã€‚
  - æ— æ³•ä½¿ç”¨ `public`â€‹/`private`â€‹/`static` ç­‰ä¿®é¥°ç¬¦ï¼ˆå› ä¸ºå®ƒåªåœ¨å±€éƒ¨æœ‰æ•ˆï¼‰ã€‚
  - â€‹**é‡ç‚¹ç»†èŠ‚**â€‹ï¼šå¦‚æœå®ƒè®¿é—®äº†æ–¹æ³•å†…çš„å±€éƒ¨å˜é‡ï¼Œè¯¥å˜é‡å¿…é¡»æ˜¯ `final` çš„ï¼ˆJava 8+ åªè¦ä¸ä¿®æ”¹ä¹Ÿå°±æ˜¯ effective final å³å¯ï¼‰ã€‚
- â€‹**ç°çŠ¶**ï¼šå®é™…å¼€å‘ä¸­éå¸¸å°‘è§ï¼Œé¢è¯•å¤§æ¦‚äº†è§£å³å¯ã€‚

#### 4. åŒ¿åå†…éƒ¨ç±» (Anonymous Inner Class) ğŸ”¥ *é‡ç‚¹*

- â€‹**å®šä¹‰**ï¼šæ²¡æœ‰åå­—çš„å±€éƒ¨å†…éƒ¨ç±»ã€‚
- â€‹**ä½œç”¨**â€‹ï¼šâ€‹**ç®€åŒ–ä»£ç **â€‹ã€‚ä¸»è¦ç”¨äºâ€‹**ç›´æ¥åˆ›å»º æ¥å£ æˆ– æŠ½è±¡ç±» çš„åŒ¿åå­ç±»å¯¹è±¡**ã€‚
- **æ ¼å¼**ï¼š
- ```java
  new ç±»æˆ–æ¥å£(å‚æ•°å€¼...) {
      //ä»¥æ­¤ç±»æˆ–æ¥å£ä¸ºçˆ¶ç±»ï¼Œé‡å†™æ–¹æ³•
  };
  ```
- **åº”ç”¨åœºæ™¯**ï¼šé€šå¸¸ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•ï¼Œä¾‹å¦‚å¤šçº¿ç¨‹ (`Runnable`) æˆ– äº‹ä»¶ç›‘å¬å™¨ã€‚
- ```java
  // ç¤ºä¾‹ï¼šåˆ›å»ºçº¿ç¨‹
  new Thread(new Runnable() {
      @Override
      public void run() {
          System.out.println("åŒ¿åå†…éƒ¨ç±»æ‰§è¡Œä»»åŠ¡");
      }
  }).start();
  ```

---

### ğŸ†š å››ç§å†…éƒ¨ç±»å¯¹æ¯”æ€»ç»“è¡¨

|**ç±»å‹**|**å…³é”®å­—**|**å®šä¹‰ä½ç½®**|**èƒ½å¦è®¿é—®å¤–éƒ¨ç±»ç§æœ‰å˜é‡?**|**åˆ›å»ºå¯¹è±¡æ˜¯å¦ä¾èµ–å¤–éƒ¨å®ä¾‹?**|**å¤‡æ³¨**|||||||
| --| -----------| ----------------| -----------------------| ------------------------| --------------------------| --| --| --| --| --| --|
|**æˆå‘˜å†…éƒ¨ç±»**|æ—  static|ç±»ä¸­æ–¹æ³•å¤–|âœ… èƒ½ (å…¨éƒ¨)|**æ˜¯**(å¿…é¡»å…ˆ new Outer)|ç±»ä¼¼æˆå‘˜å˜é‡|||||||
|**é™æ€å†…éƒ¨ç±»**|**static**|ç±»ä¸­æ–¹æ³•å¤–|âš ï¸ ä»…èƒ½è®¿é—®é™æ€æˆå‘˜|**å¦**(ç›´æ¥ new Outer.Inner)|ç±»ä¼¼é™æ€å˜é‡|||||||
|**å±€éƒ¨å†…éƒ¨ç±»**|-|æ–¹æ³•/å—å†…|âœ… èƒ½|-|ä½œç”¨åŸŸä»…é™æ–¹æ³•å†…|||||||
|**åŒ¿åå†…éƒ¨ç±»**|-|ä»»æ„éœ€è¦å¯¹è±¡å¤„|âœ… èƒ½|-|â€‹**æœ€å¸¸ç”¨**ï¼Œçœå»å®šä¹‰å­ç±»çš„éº»çƒ¦|||||||

---

### ğŸ’¡ å­¦ä¹ å»ºè®®

1. â€‹**é™æ€å†…éƒ¨ç±»**â€‹ï¼šå¸¸ç”¨äºé€šè¿‡ Builder æ¨¡å¼æ„å»ºå¤æ‚å¯¹è±¡ï¼ˆå¦‚ Lombok çš„ `@Builder` å°±æ˜¯ç”Ÿæˆçš„é™æ€å†…éƒ¨ç±»ï¼‰ã€‚
2. **åŒ¿åå†…éƒ¨ç±»**ï¼šæ˜¯æ—¥å¸¸å¼€å‘ä¸­ä½¿ç”¨é¢‘ç‡æœ€é«˜çš„ï¼Œä½†åœ¨ Java 8 ä¹‹åï¼Œå¯¹äº**å‡½æ•°å¼æ¥å£**ï¼ˆåªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼‰ï¼Œé€šå¸¸æ¨èä½¿ç”¨ **Lambda è¡¨è¾¾å¼** æ¥è¿›ä¸€æ­¥ç®€åŒ–åŒ¿åå†…éƒ¨ç±»çš„å†™æ³•ã€‚

---

# æˆå‘˜å†…éƒ¨ç±»ï¼š

```java
package com.itheima.innerclass;

public class InnerClassDemo1 {
    public static void main(String[] args) {
        // ç›®æ ‡ï¼šææ¸…æ¥šæˆå‘˜å†…éƒ¨ç±»çš„è¯­æ³•ã€‚
        // æˆå‘˜å†…éƒ¨ç±»åˆ›å»ºå¯¹è±¡çš„æ ¼å¼ï¼š
        // å¤–éƒ¨ç±»åç§°.å†…éƒ¨ç±»åç§° å¯¹è±¡å = new å¤–éƒ¨ç±»åç§°().new å†…éƒ¨ç±»åç§°();
        Outer.Inner oi = new Outer().new Inner();
        oi.setName("ç‹éº»å­");
        oi.show();
        // æˆå‘˜å†…éƒ¨ç±»è®¿é—®å¤–éƒ¨ç±»æˆå‘˜çš„ç‰¹ç‚¹ï¼ˆæ‹“å±•ï¼‰ï¼š
        // 1ã€æˆå‘˜å†…éƒ¨ç±»ä¸­å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜,ä¹Ÿå¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹æˆå‘˜
        // 2ã€æˆå‘˜å†…éƒ¨ç±»çš„å®ä¾‹æ–¹æ³•ä¸­ï¼Œå¯ä»¥ç›´æ¥æ‹¿åˆ°å½“å‰å¯„ç”Ÿçš„å¤–éƒ¨ç±»å¯¹è±¡ï¼šå¤–éƒ¨ç±»å.this
        People.Heart heart = new People().new Heart();
        heart.show();
    }
}


class People {
    private int heartBeat = 100;

    public class Heart {
        private int heartBeat = 80;
        public void show() {
            int heartBeat = 200;
            System.out.println(heartBeat);// 200
            System.out.println(this.heartBeat);// 80
            System.out.println(People.this.heartBeat);// 100
        }
    }
}
```

## å¤–éƒ¨ç±»ï¼š

```java
package com.itheima.innerclass;
// å¤–éƒ¨ç±»
public class Outer {
    public static String schoolName = "é»‘é©¬ç¨‹åºå‘˜";
    public static void test(){
        System.out.println("test()");
    }
    private int age;
    public void run(){
    }
    // æˆå‘˜å†…éƒ¨ç±»ï¼šæ— staticä¿®é¥°ï¼Œå±äºå¤–éƒ¨ç±»çš„å¯¹è±¡æŒæœ‰çš„ã€‚
    public class Inner {
        private String name;
        // æ„é€ å™¨
        public Inner() {
            System.out.println("Inner() name = " + name);
        }
        // æœ‰å‚æ•°æ„é€ å™¨
        public Inner(String name) {
            this.name = name;
            System.out.println("Inner(String name)");
        }

        public void show() {
            System.out.println("show");
            // æˆå‘˜å†…éƒ¨ç±»ä¸­å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜
            System.out.println(schoolName);
            test();
            // ä¹Ÿå¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹æˆå‘˜
            System.out.println(age);
            run();
            System.out.println(this); // è‡ªå·±çš„å¯¹è±¡
            System.out.println(Outer.this); // å¯„ç”Ÿçš„å¤–éƒ¨ç±»å¯¹è±¡
        }

        public String getName() {
            return name;
        }

        public void setName(String name) {
            this.name = name;
        }
    }
}

```

---

# é™æ€å†…éƒ¨ç±»ï¼š

```java
package com.itheima.innerclass2;

public class InnerClassDemo2 {
    public static void main(String[] args) {
        // ç›®æ ‡ï¼šææ¸…æ¥šé™æ€å†…éƒ¨ç±»çš„è¯­æ³•ã€‚
        // åˆ›å»ºå¯¹è±¡ï¼šå¤–éƒ¨ç±»å.å†…éƒ¨ç±»å å¯¹è±¡å = new å¤–éƒ¨ç±»å.å†…éƒ¨ç±»å();
        Outer.Inner inner = new Outer.Inner();
        inner.show();
        // 1ã€é™æ€å†…éƒ¨ä¸­æ˜¯å¦å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ï¼Ÿ å¯ä»¥ï¼
        // 2ã€é™æ€å†…éƒ¨ç±»ä¸­æ˜¯å¦å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹æˆå‘˜ï¼Ÿä¸å¯ä»¥ï¼
    }
}

```

## å¤–éƒ¨ç±»ï¼š

```java
package com.itheima.innerclass2;
// å¤–éƒ¨ç±»
public class Outer {
    public static String schoolName;
    private int age; // å®ä¾‹æˆå‘˜
    // é™æ€å†…éƒ¨ç±»: å±äºå¤–éƒ¨ç±»æœ¬èº«æŒæœ‰
    public static class Inner{
        private String name;
        public void show() {
            // é™æ€å†…éƒ¨ç±»ä¸­æ˜¯å¦å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€æˆå‘˜ï¼Ÿ å¯ä»¥ï¼
            System.out.println(schoolName);
            // é™æ€å†…éƒ¨ç±»ä¸­æ˜¯å¦å¯ä»¥ç›´æ¥è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹æˆå‘˜ï¼Ÿä¸å¯ä»¥ï¼
            // System.out.println(age); // æŠ¥é”™ï¼
        }

        public void setName(String name) {
            this.name = name;
        }

        public String getName() {
            return name;
        }
    }
}

```

---

# åŒ¿åå†…éƒ¨ç±»ï¼š

#### animalï¼šå®ä½“ç±»

```java
package com.itheima.innerclass3;

public abstract class Animal {
    public abstract void cry();
}

```

#### Studentï¼šå®ä½“ç±»

```java
package com.itheima.innerclass3;

import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.NoArgsConstructor;

@Data
@NoArgsConstructor
@AllArgsConstructor
public class Student {
    // å§“å å¹´é¾„ èº«é«˜ æ€§åˆ«
    private String name;
    private int age;
    private double height;
    private char sex;
}

```

#### ä¸€ï¼šåˆæ­¥è®¤è¯†

```java
package com.itheima.innerclass3;

public class Test {
    public static void main(String[] args) {
        // ç›®æ ‡ï¼šè®¤è¯†åŒ¿åå†…éƒ¨ç±»ï¼Œææ¸…æ¥šå…¶åŸºæœ¬ä½œç”¨ã€‚
        // åŒ¿åå†…éƒ¨ç±»å®é™…ä¸Šæ˜¯æœ‰åå­—ï¼šå¤–éƒ¨ç±»å$ç¼–å·.class
        // åŒ¿åå†…éƒ¨ç±»æœ¬è´¨æ˜¯ä¸€ä¸ªå­ç±»ï¼ŒåŒæ—¶ä¼šç«‹å³æ„å»ºä¸€ä¸ªå­ç±»å¯¹è±¡
        Animal a = new Animal(){
            @Override
            public void cry() {
                System.out.println("ğŸ±çŒ«æ˜¯å–µå–µå–µçš„å«~~~~");
            }
        };
        a.cry();
    }
}

//class Cat extends Animal{
//    @Override
//    public void cry() {
//        System.out.println("ğŸ±çŒ«æ˜¯å–µå–µå–µçš„å«~~~~");
//    }
//}

```

#### äºŒï¼š

```java
package com.itheima.innerclass3;

public class Test2 {
    public static void main(String[] args) {
        // ç›®æ ‡ï¼šææ¸…æ¥šåŒ¿åå†…éƒ¨ç±»çš„ä½¿ç”¨å½¢å¼ï¼ˆè¯­æ³•ï¼‰ï¼š é€šå¸¸å¯ä»¥åšä¸ºä¸€ä¸ªå¯¹è±¡å‚æ•°ä¼ è¾“ç»™æ–¹æ³•ä½¿ç”¨ã€‚
        // éœ€æ±‚ï¼šå­¦ç”Ÿï¼Œè€å¸ˆéƒ½è¦å‚åŠ æ¸¸æ³³æ¯”èµ›ã€‚
        Swim s1 = new Swim() {
            @Override
            public void swimming() {
                System.out.println("å­¦ç”ŸğŸŠâ€è´¼å¿«~~~~");
            }
        };
        start(s1);

        System.out.println("====================================");
//æˆ–è€…å°†å…¶ç›´æ¥ä½œä¸ºå‚æ•°ä¼ å…¥
        start(new Swim() {
            @Override
            public void swimming() {
                System.out.println("è€å¸ˆğŸŠâ€è´¼æºœ~~~~");
            }
        });
    }

    // è®¾è®¡ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥æ¥æ”¶è€å¸ˆï¼Œå’Œå­¦ç”Ÿå¼€å§‹æ¯”èµ›ã€‚
	//ä¼ å…¥çˆ¶ç±»swimä½“ç°å¤šæ€
    public static void start(Swim s) {
        System.out.println("å¼€å§‹ã€‚ã€‚ã€‚ã€‚");
        s.swimming();
        System.out.println("ç»“æŸã€‚ã€‚ã€‚ã€‚");
    }
}

interface Swim {
    void swimming(); // æ¸¸æ³³æ–¹æ³•
}
```

#### ä¸‰ï¼šå®é™…åº”ç”¨åœºæ™¯

```java
package com.itheima.innerclass3;

import javax.swing.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;

public class Test3 {
    public static void main(String[] args) {
        // ç›®æ ‡ï¼šææ¸…æ¥šå‡ ä¸ªåŒ¿åå†…éƒ¨ç±»çš„ä½¿ç”¨åœºæ™¯ã€‚
        // éœ€æ±‚ï¼šåˆ›å»ºä¸€ä¸ªç™»å½•çª—å£ï¼Œçª—å£ä¸Šåªæœ‰ä¸€ä¸ªç™»å½•æŒ‰é’®
        JFrame win = new JFrame("ç™»å½•çª—å£");
        win.setSize(300, 200);
        win.setLocationRelativeTo(null); // å±…ä¸­æ˜¾ç¤ºã€‚
        win.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        JPanel panel = new JPanel();
        win.add(panel);

        JButton btn = new JButton("ç™»å½•");
        panel.add(btn);

        // javaè¦æ±‚å¿…é¡»ç»™è¿™ä¸ªæŒ‰é’®æ·»åŠ ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨å¯¹è±¡ï¼Œè¿™æ ·å°±å¯ä»¥ç›‘å¬ç”¨æˆ·çš„ç‚¹å‡»æ“ä½œï¼Œå°±å¯ä»¥åšå‡ºååº”ã€‚
        // å¼€å‘ä¸­ä¸æ˜¯æˆ‘ä»¬è¦ä¸»åŠ¨å»å†™åŒ¿åå†…éƒ¨ç±»ï¼Œè€Œæ˜¯ç”¨åˆ«äººçš„åŠŸèƒ½çš„æ—¶å€™ï¼Œåˆ«äººå¯ä»¥è®©æˆ‘ä»¬å†™ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»å—ï¼Œæˆ‘ä»¬æ‰ä¼šå†™ï¼!
		//è¿™é‡Œå¯ä»¥ctrl+enter ç‚¹è¿›å»æŸ¥çœ‹æºç ,è¿™æ˜¯ä¸€ä¸ªfunctioninstance
/*public interface ActionListener extends EventListener {

    /**
     * Invoked when an action occurs.
     * @param e the event to be processed
     */
    /* public void actionPerformed(ActionEvent e);

}*/

        btn.addActionListener(new ActionListener() {
            @Override
            public void actionPerformed(ActionEvent e) {
                System.out.println("ç™»å½•æˆåŠŸï¼");
            }
        });

        win.setVisible(true);
    }
}



```

- åŒ¿åå†…éƒ¨ç±»æœ¬è´¨å°±æ˜¯åŒ¿åå®ç°äº†ä¸€ä¸ªå­ç±»ï¼Œå…¶å¯ä»¥ç»§æ‰¿ç±»ï¼ŒæŠ½è±¡ç±»ï¼Œå’Œæ¥å£ã€‚æŠ½è±¡ç±»å’Œæ¥å£éƒ½æ˜¯å¿…é¡»è¦è¿›è¡Œé‡å†™çš„ï¼Œè¿™å¾ˆå¥½ç†è§£ï¼Œä½†æ˜¯ç±»ä»–æ˜¯ä¸ºäº†ä¸´æ—¶é‡å†™ä¸€ä¸ªæ–¹æ³•ï¼Œæ‰€ä»¥ä¹Ÿæ˜¯è¦é‡å†™çš„ï¼Œå¦åˆ™æ— æ„ä¹‰ã€‚è¿™é‡Œä¸è¦è·ŸLambdaè¡¨è¾¾å¼å¼„æ··äº†ï¼Œå…¶åªèƒ½å®ç°å‡½æ•°å¼æ¥å£

### å®ç°äºŒï¼š

```java
package com.itheima.innerclass3;

import java.util.Arrays;
import java.util.Comparator;

public class Test4 {
    public static void main(String[] args) {
        // ç›®æ ‡ï¼šå®Œæˆç»™æ•°ç»„æ’åºï¼Œç†è§£å…¶ä¸­åŒ¿åå†…éƒ¨ç±»çš„ç”¨æ³•ã€‚
        // å‡†å¤‡ä¸€ä¸ªå­¦ç”Ÿç±»å‹çš„æ•°ç»„ï¼Œå­˜æ”¾6ä¸ªå­¦ç”Ÿå¯¹è±¡ã€‚
        Student[] students = new Student[6];
        students[0] = new Student("æ®·ç´ ç´ ", 35, 171.5, 'å¥³');
        students[1] = new Student("æ¨å¹‚", 28, 168.5, 'å¥³');
        students[2] = new Student("å¼ æ— å¿Œ", 25, 181.5, 'ç”·');
        students[3] = new Student("å°æ˜­", 19, 165.5, 'å¥³');
        students[4] = new Student("èµµæ•", 27, 167.5, 'å¥³');
        students[5] = new Student("åˆ˜äº¦è²", 36, 168, 'å¥³');

        // éœ€æ±‚ï¼šæŒ‰é’®å¹´é¾„å‡åºæ’åºã€‚å¯ä»¥è°ƒç”¨sunå…¬å¸å†™å¥½çš„APIç›´æ¥å¯¹æ•°ç»„è¿›è¡Œæ’åºã€‚
        // public static void sort(T[] a, Comparator<T> c)
        //           å‚æ•°ä¸€ï¼š éœ€è¦æ’åºçš„æ•°ç»„
        //           å‚æ•°äºŒï¼š éœ€è¦ç»™sortæ–¹æ³•å£°æ˜ä¸€ä¸ªComparatoræ¯”è¾ƒå™¨å¯¹è±¡ï¼ˆæŒ‡å®šæ’åºçš„è§„åˆ™ï¼‰
        //    sortæ–¹æ³•å†…éƒ¨ä¼šè°ƒç”¨åŒ¿åå†…éƒ¨ç±»å¯¹è±¡çš„compareæ–¹æ³•ï¼Œå¯¹æ•°ç»„ä¸­çš„å­¦ç”Ÿå¯¹è±¡è¿›è¡Œä¸¤ä¸¤æ¯”è¾ƒï¼Œä»è€Œå®ç°æ’åºã€‚
        Arrays.sort(students, new Comparator<Student>() {
            @Override
            public int compare(Student o1, Student o2) {
                // æŒ‡å®šæ’åºè§„åˆ™ï¼š
                // å¦‚æœä½ è®¤ä¸ºå·¦è¾¹å¯¹è±¡ å¤§äº å³è¾¹å¯¹è±¡ é‚£ä¹ˆè¿”å›æ­£æ•´æ•°ã€‚
                // å¦‚æœä½ è®¤ä¸ºå·¦è¾¹å¯¹è±¡ å°äº å³è¾¹å¯¹è±¡ é‚£ä¹ˆè¿”å›è´Ÿæ•´æ•°ã€‚
                // å¦‚æœä¸¤è¾¹ç›¸ç­‰é‚£ä¹ˆè¿”å›0
//                if(o1.getAge() > o2.getAge()){
//                    return 1;
//                }else if(o1.getAge() < o2.getAge()){
//                      return -1;
//                }
//                return 0;
//                return o1.getAge() - o2.getAge(); // æŒ‰ç…§å¹´é¾„å‡åºï¼
                 return o2.getAge() - o1.getAge(); // æŒ‰ç…§å¹´é¾„é™åºï¼
            }
        });

        // éå†æ•°ç»„ä¸­çš„å­¦ç”Ÿå¯¹è±¡å¹¶è¾“å‡º
        for (int i = 0; i < students.length; i++) {
            Student s = students[i];
            System.out.println(s);
        }
    }
}

```

- @FunctionalInterface  
  public interface Comparator<T> {}å¯ä»¥çœ‹ä¸‹Comparatorçš„ä¸€éƒ¨åˆ†æºç ï¼Œå…¶æ˜¯å‡½æ•°å¼æ¥å£

# å‡½æ•°å¼ç¼–ç¨‹ï¼š

- è¿™ä¸¤ä¸ªçŸ¥è¯†ç‚¹æ˜¯ Java 8 å¼•å…¥çš„æœ€é‡è¦ç‰¹æ€§ï¼Œä¹Ÿæ˜¯ç°ä»£ Java å¼€å‘ï¼ˆå°¤å…¶æ˜¯ Spring Bootã€Vue ç­‰æ¡†æ¶é…åˆåç«¯æ—¶ï¼‰çš„åŸºçŸ³ã€‚å®ƒä»¬æ˜¯**åŒ¿åå†…éƒ¨ç±»**çš„â€œè¿›åŒ–ç‰ˆâ€ã€‚

  æˆ‘ä¸ºä½ æ•´ç†äº†è¿™ä»½ç¬”è®°ï¼Œé‡ç‚¹åœ¨äº**è¿›åŒ–è¿‡ç¨‹**å’Œâ€‹**ä½¿ç”¨åœºæ™¯**ã€‚

  ---

  ### 1. Lambda è¡¨è¾¾å¼ (Lambda Expression)

  â€‹**æ ¸å¿ƒæ¦‚å¿µ**ï¼š

  Lambda è¡¨è¾¾å¼æœ¬è´¨ä¸Šæ˜¯â€‹**åŒ¿åå†…éƒ¨ç±»çš„ç®€å†™**â€‹ï¼Œä½†å®ƒæœ‰ä¸€ä¸ªä¸¥æ ¼çš„é™åˆ¶ï¼šâ€‹**åªèƒ½ç”¨äºå‡½æ•°å¼æ¥å£**ã€‚

  > **ä»€ä¹ˆæ˜¯å‡½æ•°å¼æ¥å£ï¼Ÿ**
  >
  > **åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£**ï¼ˆé€šå¸¸æ ‡æ³¨äº† `@FunctionalInterface`â€‹ æ³¨è§£ï¼‰ï¼Œä¾‹å¦‚ `Runnable`â€‹ã€`Comparator`ã€‚
  >

  â€‹**ä½œç”¨**ï¼š

  è®©ä»£ç æ›´ç®€æ´ï¼Œä¸“æ³¨äºâ€œåšä»€ä¹ˆâ€ï¼ˆæ–¹æ³•ä½“ï¼‰ï¼Œè€Œä¸æ˜¯â€œæ€ä¹ˆåšâ€ï¼ˆå®šä¹‰ç±»ã€åˆ›å»ºå¯¹è±¡ï¼‰ã€‚

  â€‹**æ ‡å‡†æ ¼å¼**ï¼š

  Java

  ```
  (å½¢å‚åˆ—è¡¨) -> { ä»£ç ä½“ }
  ```

  **è¿›åŒ–æ¼”ç¤ºï¼ˆä»åŒ¿åå†…éƒ¨ç±» ->**  **Lambdaï¼‰ï¼š**

  å‡è®¾æˆ‘ä»¬è¦åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼š

  **é˜¶æ®µ 1ï¼šåŒ¿åå†…éƒ¨ç±»ï¼ˆæ—§å†™æ³•ï¼‰**

  Java

  ```
  new Thread(new Runnable() {
      @Override
      public void run() {
          System.out.println("è€å†™æ³•ï¼šå¾ˆå¤šåºŸè¯");
      }
  }).start();
  ```

  **é˜¶æ®µ 2ï¼šLambda æ ‡å‡†å†™æ³•**

  Java

  ```
  // åªæœ‰ Runnable æ¥å£ä¸­çš„ run() æ–¹æ³•éœ€è¦å®ç°ï¼Œç¼–è¯‘å™¨çŸ¥é“ä½ è¦å†™çš„æ˜¯é‚£ä¸ª
  new Thread( ( ) -> {
      System.out.println("Lambda å†™æ³•ï¼šæ¸…çˆ½");
  } ).start();
  ```

  **é˜¶æ®µ 3ï¼šLambda æç®€å†™æ³•ï¼ˆçœç•¥è§„åˆ™ï¼‰**

  1. **å‚æ•°ç±»å‹**å¯ä»¥çœç•¥ï¼ˆç¼–è¯‘å™¨èƒ½æ¨æ–­ï¼‰ã€‚
  2. å¦‚æœåªæœ‰â€‹**ä¸€ä¸ªå‚æ•°**â€‹ï¼Œå°æ‹¬å· `()` å¯ä»¥çœç•¥ã€‚
  3. å¦‚æœä»£ç ä½“åªæœ‰â€‹**ä¸€è¡Œ**â€‹ï¼Œå¤§æ‹¬å· `{}`â€‹ å’Œåˆ†å· `;`â€‹ ä»¥åŠ `return` éƒ½å¯ä»¥çœç•¥ã€‚

  Java

  ```
  // ç¤ºä¾‹ï¼šList çš„ forEach æ–¹æ³•
  List<String> names = Arrays.asList("å¼ ä¸‰", "æå››");

  // æ ‡å‡† Lambda
  names.forEach((String s) -> { System.out.println(s); });

  // æç®€ Lambda (çœç•¥ç±»å‹ã€æ‹¬å·ã€å¤§æ‹¬å·)
  names.forEach(s -> System.out.println(s));
  ```

  ---

  ### 2. æ–¹æ³•å¼•ç”¨ (Method Reference)

  â€‹**æ ¸å¿ƒæ¦‚å¿µ**ï¼š

  æ–¹æ³•å¼•ç”¨æ˜¯ â€‹**Lambda è¡¨è¾¾å¼çš„â€œç»ˆæç®€åŒ–ç‰ˆâ€** ã€‚

  å¦‚æœ Lambda è¡¨è¾¾å¼çš„ä»£ç ä½“â€‹**ä»…ä»…æ˜¯è°ƒç”¨ä¸€ä¸ªå·²ç»å­˜åœ¨çš„æ–¹æ³•**ï¼Œé‚£ä¹ˆè¿å‚æ•°éƒ½ä¸ç”¨å†™äº†ï¼Œç›´æ¥å¼•ç”¨é‚£ä¸ªæ–¹æ³•å³å¯ã€‚

  â€‹**æ ¼å¼**ï¼š

  â€‹`ç±»å::æ–¹æ³•å`â€‹ æˆ– `å¯¹è±¡å::æ–¹æ³•å` ï¼ˆä¸­é—´æ˜¯åŒå†’å·ï¼‰

  â€‹**åˆ¤æ–­èƒ½ä¸èƒ½ç”¨çš„å£è¯€**ï¼š

  > å¦‚æœ Lambda æ‹¿åˆ°å‚æ•°åï¼Œä¸åšä»»ä½•é¢å¤–å¤„ç†ï¼Œ**åŸå°ä¸åŠ¨**åœ°ä¼ ç»™å¦ä¸€ä¸ªæ–¹æ³•ï¼Œå°±å¯ä»¥ç”¨æ–¹æ³•å¼•ç”¨ã€‚
  >

  **å››ç§å¸¸è§å½¢å¼ï¼š**

  |**ç±»å‹**|**æ ¼å¼**|**Lambda ç¤ºä¾‹**|**å¯¹åº”çš„æ–¹æ³•å¼•ç”¨**|||||
  | --| ------| ------| ------| --| --| --| --|
  |**1. é™æ€æ–¹æ³•å¼•ç”¨**|â€‹`ç±»å::staticMethod`|â€‹`s -> Integer.parseInt(s)`|â€‹`Integer::parseInt`|||||
  |**2. å®ä¾‹æ–¹æ³•å¼•ç”¨**|â€‹`å¯¹è±¡::instanceMethod`|â€‹`s -> System.out.println(s)`|â€‹`System.out::println`|||||
  |**3. ç‰¹å®šç±»çš„ä»»æ„å¯¹è±¡æ–¹æ³•å¼•ç”¨**|â€‹`ç±»å::instanceMethod`|â€‹`(s1, s2) -> s1.compareTo(s2)`|â€‹`String::compareTo`|||||
  |**4. æ„é€ å™¨å¼•ç”¨**|â€‹`ç±»å::new`|â€‹`() -> new Student()`|â€‹`Student::new`|||||

  **ä»£ç æ¼”ç¤ºï¼ˆæ¥ä¸Šé¢çš„ forEachï¼‰ï¼š**

  Java

  ```
  // é˜¶æ®µ 3ï¼šLambda
  names.forEach(s -> System.out.println(s));

  // é˜¶æ®µ 4ï¼šæ–¹æ³•å¼•ç”¨
  // è§£é‡Šï¼šforEach æŠŠæ‹¿åˆ°çš„å…ƒç´  sï¼Œç›´æ¥ä¼ ç»™ System.out.println å»å¤„ç†
  names.forEach(System.out::println);
  ```

  ---

  ### âš ï¸ å…³é”®åŒºåˆ«ï¼ˆä¸€å®šè¦è®°åœ¨ç¬”è®°é‡Œï¼‰

  è¿™æ˜¯å›ç­”ä½ ä¸Šä¸€ä¸ªé—®é¢˜çš„å»¶ä¼¸ï¼Œéå¸¸é‡è¦ï¼š

  1. â€‹**åŒ¿åå†…éƒ¨ç±»**ï¼š

     - å¯ä»¥ç»§æ‰¿â€‹**ç±»**ï¼ˆæŠ½è±¡ç±»/æ™®é€šç±»ï¼‰ã€‚
     - å¯ä»¥å®ç°â€‹**æ¥å£**ã€‚
     - ç¼–è¯‘åä¼šäº§ç”Ÿç‹¬ç«‹çš„ `.class`â€‹ æ–‡ä»¶ï¼ˆå¦‚ `Test$1.class`ï¼‰ã€‚
  2. â€‹**Lambda è¡¨è¾¾å¼**ï¼š

     - **åªèƒ½**ç”¨äºâ€‹**æ¥å£**ï¼ˆä¸”å¿…é¡»æ˜¯å‡½æ•°å¼æ¥å£ï¼‰ã€‚
     - **ä¸èƒ½**ç”¨äºæŠ½è±¡ç±»ã€‚
     - ç¼–è¯‘å**ä¸ä¼š**äº§ç”Ÿç‹¬ç«‹çš„ `.class`â€‹ æ–‡ä»¶ï¼ˆå®ƒæ˜¯é€šè¿‡ `invokedynamic` å­—èŠ‚ç æŒ‡ä»¤å®ç°çš„ï¼Œæ•ˆç‡æ›´é«˜ï¼‰ã€‚

  ### ğŸ’¡ å¤ä¹ å»ºè®®

  åœ¨åˆ· LeetCode æˆ–è€…åšé¡¹ç›®æ—¶ï¼Œä½ ä¼šå¤§é‡é‡åˆ° `Comparator`â€‹ æ’åºçš„åœºæ™¯ï¼Œè¯•ç€ä»åŒ¿åå†…éƒ¨ç±»å†™èµ·ï¼Œä¸€æ­¥æ­¥æ”¹æˆ Lambdaï¼Œæœ€åæ”¹æˆæ–¹æ³•å¼•ç”¨ `Comparator.comparingInt(Integer::intValue)`ï¼Œè¿™æ˜¯æœ€æœ‰æ•ˆçš„ç»ƒä¹ æ–¹å¼ã€‚

  **ç°åœ¨ï¼Œä½ æƒ³è¯•ç€åšä¸€é“å…³äºâ€œæ’åºâ€çš„å°ç»ƒä¹ æ¥å·©å›ºä¸€ä¸‹è¿™ä¸‰ä¸ªé˜¶æ®µçš„å†™æ³•å—ï¼Ÿ**

```java
package com.itheima.lambda;

public class LambdaDemo1 {
    public static void main(String[] args) {
        // ç›®æ ‡ï¼šè®¤è¯†Lambdaè¡¨è¾¾å¼ï¼šææ¸…æ¥šå…¶åŸºæœ¬ä½œç”¨ã€‚
        Animal a = new Animal() {
            @Override
            public void cry() {
                System.out.println("ğŸ±æ˜¯å–µå–µå–µçš„å«~~~~");
            }
        };
        a.cry();

        // é”™è¯¯ç¤ºèŒƒï¼šLambdaå¹¶ä¸æ˜¯å¯ä»¥ç®€åŒ–å…¨éƒ¨çš„åŒ¿åå†…éƒ¨ç±»ï¼ŒLambdaåªèƒ½ç®€åŒ–å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»ã€‚
//        Animal a1 = () -> {
//            System.out.println("ğŸ±æ˜¯å–µå–µå–µçš„å«~~~~");
//        };
//        a1.cry();

        System.out.println("=====================================================");

       /* Swim s1 = new Swim() {
            @Override
            public void swimming() {
                System.out.println("å­¦ç”ŸğŸŠâ€è´¼å¿«~~~~");
            }
        }; */

        // Lambdaåªèƒ½ç®€åŒ–å‡½æ•°å¼æ¥å£çš„åŒ¿åå†…éƒ¨ç±»ã€‚
        Swim s1 = () -> {
            System.out.println("å­¦ç”ŸğŸŠâ€è´¼å¿«~~~~");
        };
        s1.swimming();
    }
}

abstract class Animal{
    public abstract void cry();
}

// å‡½æ•°å¼æ¥å£ï¼šåªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ã€‚
@FunctionalInterface // å£°æ˜å‡½æ•°å¼æ¥å£çš„æ³¨è§£ã€‚
interface Swim{
    void swimming();
}

```

# æ¡ˆä¾‹ï¼š

```java
package com.itheima.lambda;

import com.itheima.innerclass3.Student;

import javax.swing.*;
import java.util.Arrays;

public class LamdbaDemo2 {
    public static void main(String[] args) {
        // ç›®æ ‡ï¼šç”¨Lambdaè¡¨è¾¾å¼ç®€åŒ–å®é™…ç¤ºä¾‹ã€‚
        test1();
        test2();
    }

    public static void test1(){
        Student[] students = new Student[6];
        students[0] = new Student("æ®·ç´ ç´ ", 35, 171.5, 'å¥³');
        students[1] = new Student("æ¨å¹‚", 28, 168.5, 'å¥³');
        students[2] = new Student("å¼ æ— å¿Œ", 25, 181.5, 'ç”·');
        students[3] = new Student("å°æ˜­", 19, 165.5, 'å¥³');
        students[4] = new Student("èµµæ•", 27, 167.5, 'å¥³');
        students[5] = new Student("åˆ˜äº¦è²", 36, 168, 'å¥³');

        // éœ€æ±‚ï¼šæŒ‰é’®å¹´é¾„å‡åºæ’åºã€‚å¯ä»¥è°ƒç”¨sunå…¬å¸å†™å¥½çš„APIç›´æ¥å¯¹æ•°ç»„è¿›è¡Œæ’åºã€‚
//        Arrays.sort(students, new Comparator<Student>() {
//            @Override
//            public int compare(Student o1, Student o2) {
//                return o1.getAge() - o2.getAge(); // æŒ‰ç…§å¹´é¾„å‡åºï¼
//            }
//        });

//        Arrays.sort(students, (Student o1, Student o2) -> {
//            return o1.getAge() - o2.getAge(); // æŒ‰ç…§å¹´é¾„å‡åºï¼
//        });

//        Arrays.sort(students, (o1,  o2) -> {
//            return o1.getAge() - o2.getAge(); // æŒ‰ç…§å¹´é¾„å‡åºï¼
//        });

        Arrays.sort(students, (o1, o2) -> o1.getAge() - o2.getAge());

        // éå†æ•°ç»„ä¸­çš„å­¦ç”Ÿå¯¹è±¡å¹¶è¾“å‡º
        for (int i = 0; i < students.length; i++) {
            Student s = students[i];
            System.out.println(s);
        }
    }

    public static void test2(){
        JFrame win = new JFrame("ç™»å½•çª—å£");
        win.setSize(300, 200);
        win.setLocationRelativeTo(null); // å±…ä¸­æ˜¾ç¤ºã€‚
        win.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);

        JPanel panel = new JPanel();
        win.add(panel);

        JButton btn = new JButton("ç™»å½•");
        panel.add(btn);
        // javaè¦æ±‚å¿…é¡»ç»™è¿™ä¸ªæŒ‰é’®æ·»åŠ ä¸€ä¸ªç‚¹å‡»äº‹ä»¶ç›‘å¬å™¨å¯¹è±¡ï¼Œè¿™æ ·å°±å¯ä»¥ç›‘å¬ç”¨æˆ·çš„ç‚¹å‡»æ“ä½œï¼Œå°±å¯ä»¥åšå‡ºååº”ã€‚
        // å¼€å‘ä¸­ä¸æ˜¯æˆ‘ä»¬è¦ä¸»åŠ¨å»å†™åŒ¿åå†…éƒ¨ç±»ï¼Œè€Œæ˜¯ç”¨åˆ«äººçš„åŠŸèƒ½çš„æ—¶å€™ï¼Œåˆ«äººå¯ä»¥è®©æˆ‘ä»¬å†™ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»å—ï¼Œæˆ‘ä»¬æ‰ä¼šå†™ï¼!
//        btn.addActionListener(new ActionListener() {
//            @Override
//            public void actionPerformed(ActionEvent e) {
//                System.out.println("ç™»å½•æˆåŠŸï¼");
//            }
//        });

//        btn.addActionListener((ActionEvent e) -> {
//                System.out.println("ç™»å½•æˆåŠŸï¼");
//        });

//        btn.addActionListener((e) -> {
//            System.out.println("ç™»å½•æˆåŠŸï¼");
//        });

//        btn.addActionListener(e -> {
//            System.out.println("ç™»å½•æˆåŠŸï¼");
//        });

        btn.addActionListener(e ->  System.out.println("ç™»å½•æˆåŠŸï¼"));

        win.setVisible(true);
    }
}

```

- 1. **å‚æ•°ç±»å‹**å¯ä»¥ä¸å†™ã€‚
  2. **ä¸€ä¸ªå‚æ•°**å¯ä»¥ä¸å†™å°æ‹¬å· `()`ã€‚
  3. **ä¸€è¡Œä»£ç **å¯ä»¥ä¸å†™å¤§æ‹¬å· `{}`â€‹ã€åˆ†å· `;`â€‹ å’Œ `return`ã€‚

---

### ğŸŸ¢ åœºæ™¯ä¸€ï¼šæœ‰å‚æ•°ã€æœ‰è¿”å›å€¼

**æ¡ˆä¾‹ï¼š**  `Arrays.sort` (å¯¹å­¦ç”Ÿæ•°ç»„æŒ‰å¹´é¾„æ’åº)

**æ¥å£ï¼š**  `Comparator`â€‹ (æ–¹æ³•ï¼š`int compare(Student o1, Student o2)`)

#### 1. åŸå§‹å½¢æ€ï¼ˆåŒ¿åå†…éƒ¨ç±»ï¼‰

è¿™æ˜¯æœ€å®Œæ•´çš„å†™æ³•ï¼Œå¯ä»¥çœ‹åˆ°è¿™ä¸€å¨ä»£ç é‡Œï¼ŒçœŸæ­£å¹²æ´»çš„åªæœ‰ `o1.getAge() - o2.getAge()` è¿™ä¸€å¥ã€‚

Java

```
// å½¢æ€ 1ï¼šç¬¨é‡
Arrays.sort(students, new Comparator<Student>() {
    @Override
    public int compare(Student o1, Student o2) {
        return o1.getAge() - o2.getAge();
    }
});
```

â¬‡ï¸ **è¿›åŒ–ï¼šå»æ‰ newã€æ¥å£åã€æ–¹æ³•åï¼ˆå› ä¸ºåªæœ‰ä¸€ä¸ªæ–¹æ³•è¦é‡å†™ï¼Œä¸”æ¥å£ç±»æ˜¯ç¡®å®šçš„ï¼‰**

#### 2. æ ‡å‡† Lambda å½¢æ€

ä¿ç•™äº†å‚æ•°ç±»å‹ `Student`â€‹ï¼Œä¿ç•™äº† `return`â€‹ å’Œå¤§æ‹¬å· `{}`ã€‚

Java

```
// å½¢æ€ 2ï¼šæ ‡å‡† Lambda
Arrays.sort(students, (Student o1, Student o2) -> {
    return o1.getAge() - o2.getAge();
});
```

â¬‡ï¸ **è¿›åŒ–ï¼šå»æ‰å‚æ•°ç±»å‹ï¼ˆç±»å‹æ¨æ–­ï¼‰**

#### 3. çœç•¥ç±»å‹å½¢æ€

ç¼–è¯‘å™¨çŸ¥é“ `students`â€‹ æ•°ç»„é‡Œè£…çš„æ˜¯ `Student`â€‹ï¼Œæ‰€ä»¥ `Student` å…³é”®å­—å¯ä»¥åˆ æ‰ã€‚

Java

```
// å½¢æ€ 3ï¼šçœç•¥å‚æ•°ç±»å‹
Arrays.sort(students, (o1, o2) -> {
    return o1.getAge() - o2.getAge();
});
```

â¬‡ï¸ **è¿›åŒ–ï¼šå»æ‰å¤§æ‹¬å·ã€åˆ†å·ã€returnï¼ˆç©¶æç®€åŒ–ï¼‰**

#### 4. æç®€ Lambda å½¢æ€ (æ¨è ğŸ”¥)

å› ä¸ºä»£ç ä½“â€‹**åªæœ‰ä¸€è¡Œ**â€‹ï¼Œä¸”â€‹**æœ‰è¿”å›å€¼**ã€‚

è§„åˆ™ï¼š**åŒæ—¶**åˆ æ‰ `{}`â€‹ã€`;`â€‹ å’Œ `return`ã€‚

Java

```
// å½¢æ€ 4ï¼šæç®€å†™æ³•
Arrays.sort(students, (o1, o2) -> o1.getAge() - o2.getAge());
```

---

### ğŸ”µ åœºæ™¯äºŒï¼šå•å‚æ•°ã€æ— è¿”å›å€¼

**æ¡ˆä¾‹ï¼š**  `btn.addActionListener` (æŒ‰é’®ç‚¹å‡»ç›‘å¬)

**æ¥å£ï¼š**  `ActionListener`â€‹ (æ–¹æ³•ï¼š`void actionPerformed(ActionEvent e)`)

#### 1. åŸå§‹å½¢æ€ï¼ˆåŒ¿åå†…éƒ¨ç±»ï¼‰

Java

```
// å½¢æ€ 1ï¼šç¬¨é‡
btn.addActionListener(new ActionListener() {
    @Override
    public void actionPerformed(ActionEvent e) {
        System.out.println("ç™»å½•æˆåŠŸï¼");
    }
});
```

â¬‡ï¸ **è¿›åŒ–ï¼šå˜èº« Lambda**

#### 2. æ ‡å‡† Lambda å½¢æ€

Java

```
// å½¢æ€ 2ï¼šæ ‡å‡† Lambda
btn.addActionListener((ActionEvent e) -> {
    System.out.println("ç™»å½•æˆåŠŸï¼");
});
```

â¬‡ï¸ **è¿›åŒ–ï¼šå»æ‰ç±»å‹ + å»æ‰å°æ‹¬å·**

#### 3. çœç•¥å°æ‹¬å·å½¢æ€

è§„åˆ™ï¼šå› ä¸º**åªæœ‰ä¸€ä¸ªå‚æ•°** `e`â€‹ï¼Œæ‰€ä»¥å°æ‹¬å· `()` å¯ä»¥åˆ æ‰ã€‚

Java

```
// å½¢æ€ 3ï¼šçœç•¥å°æ‹¬å·
btn.addActionListener(e -> {
    System.out.println("ç™»å½•æˆåŠŸï¼");
});
```

â¬‡ï¸ **è¿›åŒ–ï¼šå»æ‰å¤§æ‹¬å·ã€åˆ†å·**

#### 4. æç®€ Lambda å½¢æ€ (æ¨è ğŸ”¥)

è§„åˆ™ï¼šå› ä¸ºä»£ç ä½“â€‹**åªæœ‰ä¸€è¡Œ**â€‹ï¼Œå¤§æ‹¬å· `{}`â€‹ å’Œåˆ†å· `;` åˆ æ‰ã€‚

Java

```
// å½¢æ€ 4ï¼šæç®€å†™æ³•
btn.addActionListener(e -> System.out.println("ç™»å½•æˆåŠŸï¼"));
```

---

### æ€»ç»“ä¸€å¼ å›¾

|**æ­¥éª¤**|**åˆ é™¤äº†ä»€ä¹ˆï¼Ÿ**|**å‰©ä½™ç»“æ„**||||
| ---| --------------------------| ------| --| --| --|
|**1 ->**  **2**|â€‹`new`â€‹ã€æ¥å£åã€`@Override`ã€æ–¹æ³•å|â€‹`(å‚æ•°) -> { ä»£ç  }`||||
|**2 ->**  **3**|å‚æ•°çš„**ç±»å‹**(å¦‚`Student`)|â€‹`(p1, p2) -> { ä»£ç  }`||||
|**3 ->**  **4**|**å¦‚æœæ˜¯å•è¡Œï¼š**  `{}`â€‹ã€`;`â€‹ã€`return`|â€‹`(p1, p2) -> ç»“æœ`||||
|**ç‰¹æ®Š**|**å¦‚æœæ˜¯å•å‚ï¼š** å°æ‹¬å·`()`|â€‹`p1 -> ä»£ç `||||

> **å¦‚æœ Lambda ä½“ä¸­çš„ä»£ç ï¼Œä»…ä»…æ˜¯è°ƒç”¨äº†ä¸€ä¸ªå·²æœ‰çš„æ–¹æ³•ï¼ˆæˆ–æ„é€ å™¨ï¼‰ï¼Œä¸”å‚æ•°ä¼ é€’çš„é€»è¾‘å®Œå…¨åŒ¹é…ï¼Œå°±å¯ä»¥ç®€å†™ã€‚**

---

### 1. é™æ€æ–¹æ³•çš„å¼•ç”¨ (Static Method Reference)

- â€‹**åœºæ™¯**â€‹ï¼šLambda ä½“é‡Œè°ƒç”¨äº†ä¸€ä¸ªâ€‹**é™æ€æ–¹æ³•**ï¼Œä¸” Lambda çš„å‚æ•°å…¨éƒ¨åŸå°ä¸åŠ¨åœ°ä¼ ç»™äº†è¿™ä¸ªé™æ€æ–¹æ³•ã€‚
- â€‹**æ ¼å¼**â€‹ï¼š`ç±»å::é™æ€æ–¹æ³•å`
- â€‹**ç¤ºä¾‹**ï¼šæŠŠå­—ç¬¦ä¸² "123" è§£æä¸ºæ•°å­—ã€‚

Java

```
// 1. Lambda æ ‡å‡†å†™æ³•
// s æ˜¯å‚æ•°ï¼Œç›´æ¥ä¼ ç»™äº† Integer.parseInt(s)
Function<String, Integer> f1 = (s) -> Integer.parseInt(s);

// 2. æ–¹æ³•å¼•ç”¨å†™æ³•
// å«ä¹‰ï¼šè®© Integer ç±»çš„ parseInt æ–¹æ³•æ¥æ¥ç®¡è¿™ä¸ªé€»è¾‘
Function<String, Integer> f2 = Integer::parseInt;
```

---

### 2. å®ä¾‹æ–¹æ³•çš„å¼•ç”¨ (Instance Method Reference)

- â€‹**åœºæ™¯**â€‹ï¼šLambda ä½“é‡Œè°ƒç”¨äº†ä¸€ä¸ª**å¤–éƒ¨å·²ç»å­˜åœ¨çš„å¯¹è±¡**çš„â€‹**å®ä¾‹æ–¹æ³•**ã€‚
- â€‹**æ ¼å¼**â€‹ï¼š`å¯¹è±¡å::å®ä¾‹æ–¹æ³•å`
- â€‹**ç¤ºä¾‹**ï¼šéå†æ‰“å°åˆ—è¡¨ä¸­çš„åå­—ã€‚

Java

```
List<String> list = Arrays.asList("Java", "Vue", "Spring");

// 1. Lambda æ ‡å‡†å†™æ³•
// System.out æ˜¯ä¸€ä¸ªå·²ç»å­˜åœ¨çš„ PrintStream å¯¹è±¡
list.forEach(s -> System.out.println(s));

// 2. æ–¹æ³•å¼•ç”¨å†™æ³•
// å«ä¹‰ï¼šç”¨ System.out è¿™ä¸ªå¯¹è±¡é‡Œçš„ println æ–¹æ³•æ¥å¤„ç†æ¯ä¸ªå…ƒç´ 
list.forEach(System.out::println);
```

---

### 3. ç‰¹å®šç±»å‹æ–¹æ³•çš„å¼•ç”¨ (Reference to an Instance Method of an Arbitrary Object) ğŸ”¥ *æœ€éš¾ç†è§£*

- â€‹**åœºæ™¯**â€‹ï¼šLambda çš„**ç¬¬ä¸€ä¸ªå‚æ•°**è°ƒç”¨äº†å®ƒçš„å®ä¾‹æ–¹æ³•ï¼Œ**å…¶ä½™å‚æ•°**ä½œä¸ºè¯¥æ–¹æ³•çš„å‚æ•°ã€‚
- â€‹**æ ¼å¼**â€‹ï¼š`ç±»å::å®ä¾‹æ–¹æ³•å`
- â€‹**å£è¯€**â€‹ï¼š **â€œç¬¬ä¸€ä¸ªå‚æ•°åšè°ƒç”¨è€…ï¼Œåé¢çš„å‚æ•°åšå‚æ•°ã€‚â€**
- â€‹**ç¤ºä¾‹**ï¼šæ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å¤§å°ï¼ˆå¿½ç•¥å¤§å°å†™ï¼‰ã€‚

Java

```
// æ¥å£ï¼šComparator<String>
// æ–¹æ³•ï¼šint compare(String s1, String s2)

// 1. Lambda æ ‡å‡†å†™æ³•
// æ³¨æ„çœ‹ï¼šé€»è¾‘æ˜¯ s1 è°ƒç”¨çš„æ–¹æ³•ï¼Œs2 æ˜¯å‚æ•°
Comparator<String> c1 = (s1, s2) -> s1.compareToIgnoreCase(s2);

// 2. æ–¹æ³•å¼•ç”¨å†™æ³•
// ç–‘æƒ‘ç‚¹ï¼šcompareToIgnoreCase æ˜æ˜æ˜¯å®ä¾‹æ–¹æ³•ï¼Œä¸ºä»€ä¹ˆå‰é¢å†™çš„æ˜¯ç±»å Stringï¼Ÿ
// è§£ç­”ï¼šå› ä¸ºè¿™é‡Œéšå¼è§„å®šäº†ï¼Œç”± Lambda çš„ç¬¬ä¸€ä¸ªå‚æ•°(s1) æ¥å……å½“è°ƒç”¨å¯¹è±¡ã€‚
Comparator<String> c2 = String::compareToIgnoreCase;
```

---

### 4. æ„é€ å™¨å¼•ç”¨ (Constructor Reference)

- â€‹**åœºæ™¯**â€‹ï¼šLambda ä½“é‡Œä»…ä»…æ˜¯ `new` äº†ä¸€ä¸ªå¯¹è±¡ã€‚
- â€‹**æ ¼å¼**â€‹ï¼š`ç±»å::new`
- â€‹**ç¤ºä¾‹**ï¼šæ ¹æ®åå­—åˆ›å»ºå­¦ç”Ÿå¯¹è±¡ã€‚

Java

```
// æ¥å£ï¼šFunction<String, Student>
// æ–¹æ³•ï¼šStudent apply(String name)

// 1. Lambda æ ‡å‡†å†™æ³•
Function<String, Student> f1 = (name) -> new Student(name);

// 2. æ–¹æ³•å¼•ç”¨å†™æ³•
// å«ä¹‰ï¼šè°ƒç”¨ Student çš„æ„é€ å™¨ï¼Œå‚æ•°è‡ªåŠ¨åŒ¹é…
Function<String, Student> f2 = Student::new;
```

---

### ğŸ“ ç»ˆæå¯¹æ¯”æ€»ç»“è¡¨

ä¸ºäº†æ–¹ä¾¿ä½ å¤ä¹ ï¼Œæˆ‘æ•´ç†äº†è¿™ä¸ªå¯¹ç…§è¡¨ï¼Œçœ‹ç€å®ƒå†™ä»£ç å°±ä¸ä¼šä¹±ï¼š

|**ç±»å‹**|**Lambda åŸå§‹æ ·å­**|**æ–¹æ³•å¼•ç”¨å†™æ³•**|**è½¬æ¢é€»è¾‘**|||||
| --| ------| ------| ------------------------| --| --| --| --|
|**é™æ€æ–¹æ³•å¼•ç”¨**|â€‹`(args) -> Class.staticMethod(args)`|â€‹`Class::staticMethod`|å‚æ•°åŸå°ä¸åŠ¨ä¼ è¿›å»|||||
|**å®ä¾‹æ–¹æ³•å¼•ç”¨**|â€‹`(args) -> obj.instanceMethod(args)`|â€‹`obj::instanceMethod`|å‚æ•°åŸå°ä¸åŠ¨ä¼ ç»™ obj|||||
|**ç‰¹å®šç±»å‹å¼•ç”¨**|â€‹`(obj, args) -> obj.instanceMethod(args)`|â€‹`Class::instanceMethod`|**ç¬¬ä¸€ä¸ªå‚æ•°**å˜æˆäº†è°ƒç”¨è€…|||||
|**æ„é€ å™¨å¼•ç”¨**|â€‹`(args) -> new Class(args)`|â€‹`Class::new`|å‚æ•°åŸå°ä¸åŠ¨ä¼ ç»™æ„é€ å™¨|||||

**ä½ å¯ä»¥å°è¯•æŠŠä½ åˆšæ‰å†™çš„** **â€‹`Comparator`â€‹**â€‹ **ä»£ç æ”¹æˆç¬¬ 3 ç§å†™æ³•ï¼ˆç‰¹å®šç±»å‹å¼•ç”¨ï¼‰å—ï¼Ÿ**

æç¤ºï¼š`Integer`â€‹ ç±»æœ‰ä¸€ä¸ª `compare`â€‹ é™æ€æ–¹æ³•ï¼Œä½† `Integer`â€‹ å¯¹è±¡æœ‰ä¸€ä¸ª `compareTo` å®ä¾‹æ–¹æ³•ã€‚

# å¸¸ç”¨apiï¼ˆStringå’ŒArrayListï¼‰

---

### ğŸ§µ 1. String (å­—ç¬¦ä¸²)

â€‹**æ ¸å¿ƒç‰¹ç‚¹**ï¼š

- â€‹**ä¸å¯å˜æ€§ (Immutable)** â€‹ï¼šä¸€æ—¦åˆ›å»ºï¼Œå†…å®¹ä¸å¯ä¿®æ”¹ã€‚ä»»ä½•ä¿®æ”¹æ“ä½œï¼ˆå¦‚ `replace`ï¼‰éƒ½ä¼šäº§ç”Ÿä¸€ä¸ªæ–°çš„ String å¯¹è±¡ã€‚
- â€‹**åº•å±‚**ï¼šä¹Ÿå°±æ˜¯å­—ç¬¦æ•°ç»„/å­—èŠ‚æ•°ç»„ã€‚

#### ğŸ”¥ String å¸¸ç”¨ API é€ŸæŸ¥è¡¨

|**æ–¹æ³•åˆ†ç±»**|**æ–¹æ³•å**|**è¯´æ˜**|**ç¤ºä¾‹ä»£ç **|||||
| --| ------| ------------------------------------------| ------| --| --| --| --|
|**æ¯”è¾ƒ**|â€‹`equals(Object)`|**æ¯”è¾ƒå†…å®¹**æ˜¯å¦ç›¸åŒ (åŒºåˆ†å¤§å°å†™)|â€‹`s1.equals(s2)`|||||
||â€‹`equalsIgnoreCase()`|æ¯”è¾ƒå†…å®¹ (å¿½ç•¥å¤§å°å†™)|â€‹`s1.equalsIgnoreCase("JAVA")`|||||
|**è·å–**|â€‹`length()`|è·å–å­—ç¬¦ä¸²é•¿åº¦|â€‹`str.length()`|||||
||â€‹`charAt(int index)`|è·å–æŒ‡å®šç´¢å¼•å¤„çš„å­—ç¬¦|â€‹`str.charAt(0)`|||||
|**æŸ¥æ‰¾**|â€‹`indexOf(String s)`|è¿”å›å­ä¸²ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼• (æ‰¾ä¸åˆ°è¿”å› -1)|â€‹`str.indexOf("abc")`|||||
||â€‹`contains(CharSequence s)`|åˆ¤æ–­æ˜¯å¦åŒ…å«æŸå­ä¸²|â€‹`str.contains("hello")`|||||
||â€‹`startsWith(String s)`|åˆ¤æ–­æ˜¯å¦ä»¥æŸå‰ç¼€å¼€å§‹|â€‹`str.startsWith("http")`|||||
|**æˆªå–**|â€‹`substring(int begin)`|ä» begin æˆªå–åˆ°æœ«å°¾|â€‹`str.substring(5)`|||||
||â€‹`substring(int b, int e)`|**å«å¤´ä¸å«å°¾**[b, e)|â€‹`str.substring(0, 3)`|||||
|**è½¬æ¢**|â€‹`toCharArray()`|è½¬æˆå­—ç¬¦æ•°ç»„|â€‹`char[] chs = str.toCharArray()`|||||
||â€‹`getBytes()`|è½¬æˆå­—èŠ‚æ•°ç»„ (å¸¸ç”¨äº IO/ç½‘ç»œ)|â€‹`byte[] bytes = str.getBytes()`|||||
|**å¤„ç†**|â€‹`replace(old, new)`|æ›¿æ¢å­—ç¬¦ä¸²|â€‹`str.replace("fuck", "****")`|||||
||â€‹`split(String regex)`|åˆ‡å‰²å­—ç¬¦ä¸² (è¿”å› String[])|â€‹`str.split(",")`|||||
||â€‹`trim()`|å»é™¤**é¦–å°¾**ç©ºæ ¼|â€‹`str.trim()`|||||

#### âš ï¸ String çš„æ³¨æ„äº‹é¡¹

1. â€‹**æ¯”è¾ƒè¦ç”¨**  **â€‹`.equals()`â€‹** ï¼š

   - â€‹`==`â€‹ æ¯”è¾ƒçš„æ˜¯â€‹**åœ°å€å€¼**ã€‚
   - â€‹`.equals()`â€‹ æ¯”è¾ƒçš„æ˜¯â€‹**å†…å®¹**ã€‚
   - *å£è¯€ï¼šå­—ç¬¦ä¸²æ¯”å†…å®¹ï¼Œæ°¸è¿œç”¨ equalsã€‚*
2. â€‹**é¢‘ç¹ä¿®æ”¹ä¸è¦ç”¨ String**ï¼š

   - å¦‚æœéœ€è¦é¢‘ç¹æ‹¼æ¥å­—ç¬¦ä¸²ï¼ˆæ¯”å¦‚å¾ªç¯æ‹¼æ¥ï¼‰ï¼Œè¯·ä½¿ç”¨ `StringBuilder`ï¼Œå¦åˆ™ä¼šäº§ç”Ÿå¤§é‡åƒåœ¾å¯¹è±¡ï¼Œä¸¥é‡æ‹–æ…¢æ€§èƒ½ã€‚
3. ```java
   package com.itheima.stringdemo;

   import java.util.Scanner;

   public class StringDemo1 {
       public static void main(String[] args) {
           // ç›®æ ‡ï¼šæŒæ¡åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå°è£…è¦å¤„ç†çš„å­—ç¬¦ä¸²æ•°æ®ï¼Œè°ƒç”¨Stringæä¾›çš„æ–¹æ³•å¤„ç†å­—ç¬¦ä¸²ã€‚
           // 1ã€æ¨èæ–¹å¼ä¸€ï¼š ç›´æ¥â€œâ€å°±å¯ä»¥åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå°è£…å­—ç¬¦ä¸²æ•°æ®ã€‚
           String s1 = "helloï¼Œé»‘é©¬";
           System.out.println(s1);
           System.out.println(s1.length()); // å¤„ç†å­—ç¬¦ä¸²çš„æ–¹æ³•ã€‚

           // 2ã€æ–¹å¼äºŒï¼šé€šè¿‡æ„é€ å™¨åˆå§‹åŒ–å¯¹è±¡ã€‚
           String s2 = new String(); // ä¸æ¨è
           System.out.println(s2); // ""ç©ºå­—ç¬¦ä¸²

           String s3 = new String("helloï¼Œé»‘é©¬"); // ä¸æ¨è
           System.out.println(s3);

           char[] chars = {'h','e','l','l','o','ï¼Œ','é»‘','é©¬'};
           String s4 = new String(chars);
           System.out.println(s4);

           byte[] bytes = {97, 98, 99, 65, 66, 67};
           String s5 = new String(bytes);
           System.out.println(s5);

           System.out.println("========================================");
           // åªæœ‰â€œâ€ç»™å‡ºçš„å­—ç¬¦ä¸²å¯¹è±¡æ”¾åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œç›¸åŒå†…å®¹åªæ”¾ä¸€ä¸ªã€‚
           String t1 = "abc";
           String t2 = "abc";
           System.out.println(t1 == t2);

           String t3 = new String("abc");
           String t4 = new String("abc");
           System.out.println(t3 == t4);

           System.out.println("========================================");
           // è°ƒç”¨å­—ç¬¦ä¸²çš„æ–¹æ³•ï¼Œå¤„ç†å­—ç¬¦ä¸²æ•°æ®ã€‚
           // ç®€æ˜“ç‰ˆçš„ç™»å½•ï¼š
           String okLoginName = "admin";

           System.out.println("è¯·æ‚¨è¾“å…¥æ‚¨çš„ç™»å½•åç§°ï¼š");
           Scanner sc = new Scanner(System.in);
           String loginName = sc.next();

           // å­—ç¬¦ä¸²å¯¹è±¡çš„å†…å®¹æ¯”è¾ƒï¼Œåƒä¸‡ä¸è¦ç”¨==,==é»˜è®¤æ¯”è¾ƒåœ°å€ï¼Œå­—ç¬¦ä¸²å¯¹è±¡çš„å†…å®¹ä¸€æ ·æ—¶åœ°å€ä¸ä¸€å®šä¸€æ ·
           // åˆ¤æ–­ä½ å­—ç¬¦ä¸²å†…å®¹ï¼Œå»ºè®®å¤§å®¶ç”¨ Stringæä¾›çš„equalsæ–¹æ³•ï¼Œåªå…³å¿ƒå†…å®¹ä¸€æ ·ï¼Œå°±è¿”å›true,ä¸å…³å¿ƒåœ°å€ã€‚
           if(okLoginName.equals(loginName)){
               System.out.println("æ­å–œæ‚¨ï¼Œç™»å½•æˆåŠŸï¼");
           }else{
               System.out.println("ç™»å½•å¤±è´¥ï¼");
           }

           System.out.println("========================================");
           // 18663656520 ==> 186****6520
           System.out.println("è¯·æ‚¨ç”¨æ‰‹æœºå·ç ç™»å½•ï¼š");
           String phone = sc.next(); // 18663656520

           System.out.println("ç³»ç»Ÿæ˜¾ç¤ºä»¥ä¸‹æ‰‹æœºå·ç è¿›å…¥ï¼š");
           String newPhone = phone.substring(0, 3) + "****" + phone.substring(7);
           System.out.println(newPhone);
       }
   }

   ```

   ### 1. åŒå¼•å·ç›´æ¥èµ‹å€¼ (å­—é¢é‡æ–¹å¼)

   - â€‹**ä»£ç **ï¼š
   - â€‹**ä½ç½®**â€‹ï¼šâ€‹**ç›´æ¥å­˜å‚¨åœ¨ã€Œå­—ç¬¦ä¸²å¸¸é‡æ± ã€ä¸­**ã€‚
   - â€‹**æœºåˆ¶**ï¼š

     1. ç¨‹åºè¿è¡Œæ—¶ï¼ŒJVM ä¼šå…ˆå»å¸¸é‡æ± é‡Œæ‰¾æœ‰æ²¡æœ‰ "Java"ã€‚
     2. **å¦‚æœæœ‰**ï¼šç›´æ¥æŠŠæ± å­é‡Œé‚£ä¸ªå¯¹è±¡çš„åœ°å€è¿”å›ç»™ s1ï¼ˆ**å¤ç”¨**ï¼Œä¸åˆ›å»ºæ–°å¯¹è±¡ï¼‰ã€‚æ‰€ä»¥æ¯æ¬¡æ‰“å°æ•°ç»„è¿”å›çš„éƒ½æ˜¯åŒä¸€ä¸ªåœ°å€ï¼ˆä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰ï¼Œjavaä¸­==é€šè¿‡åˆ¤æ–­æ˜¯å¦æ˜¯åŒä¸€åœ°å€æ¥åˆ¤æ–­æ˜¯å¦ç›¸ç­‰ï¼‰
     3. â€‹**å¦‚æœæ— **ï¼šåœ¨æ± å­é‡Œåˆ›å»ºä¸€ä¸ª "Java" å¯¹è±¡ï¼Œç„¶åè¿”å›åœ°å€ã€‚
   - â€‹**ä¼˜ç‚¹**ï¼šçœå†…å­˜ï¼Œé€Ÿåº¦å¿«ã€‚

   ### 2. ä½¿ç”¨ new å…³é”®å­—

   - â€‹**ä»£ç **ï¼š
   - â€‹**ä½ç½®**â€‹ï¼šâ€‹**å¼ºåˆ¶åœ¨ã€Œå †å†…å­˜ (Heap)ã€ä¸­åˆ›å»ºä¸€ä¸ªæ–°å¯¹è±¡**ã€‚
   - â€‹**æœºåˆ¶**ï¼š

     1. ä¸ç®¡å¸¸é‡æ± é‡Œæœ‰æ²¡æœ‰ "Java"ï¼Œåªè¦çœ‹åˆ° `new`ï¼ŒJVM å°±ä¼šåœ¨å †é‡Œå¼€è¾Ÿä¸€å—æ–°ç©ºé—´å­˜æ”¾ä¸€ä¸ª String å¯¹è±¡ã€‚ï¼ˆæ‰€ä»¥ä¸¤æ¬¡å­—ç¬¦ä¸²==åˆ¤æ–­åä¼šä¸ç›¸ç­‰ï¼‰
     2. â€‹`s2` æŒ‡å‘çš„æ˜¯å †é‡Œçš„è¿™ä¸ªæ–°åœ°å€ã€‚
     3. â€‹ *(æ³¨æ„ï¼šå¦‚æœå¸¸é‡æ± é‡Œæ²¡æœ‰ "Java"ï¼Œå®ƒåŒæ—¶ä¹Ÿä¼šåœ¨å¸¸é‡æ± é‡Œç”Ÿæˆä¸€ä¸ªè¾…åŠ©å¯¹è±¡ï¼Œä½†åœ¨å †é‡Œè‚¯å®šæœ‰ä¸€ä¸ªä¸»å¯¹è±¡)* ã€‚
   - â€‹**ç¼ºç‚¹**ï¼šæ¯æ¬¡éƒ½åˆ›å»ºæ–°å¯¹è±¡ï¼Œå®¹æ˜“äº§ç”Ÿåƒåœ¾ã€‚

---

### ğŸ“¦ 2. ArrayList (åŠ¨æ€æ•°ç»„)

â€‹**æ ¸å¿ƒç‰¹ç‚¹**ï¼š

- â€‹**å¯å˜é•¿åº¦**ï¼šåº•å±‚æ˜¯æ•°ç»„ï¼Œæ»¡äº†è‡ªåŠ¨æ‰©å®¹ï¼ˆé»˜è®¤æ‰©å®¹ 1.5 å€ï¼‰ã€‚
- â€‹**æ³›å‹**â€‹ï¼šåªèƒ½å­˜å‚¨â€‹**å¼•ç”¨æ•°æ®ç±»å‹**â€‹ï¼ˆå­˜ `int`â€‹ è¦ç”¨ `Integer`â€‹ï¼Œå­˜ `char`â€‹ è¦ç”¨ `Character`ï¼‰ã€‚

#### ğŸ”¥ ArrayList å¸¸ç”¨ API é€ŸæŸ¥è¡¨

å‡è®¾å®šä¹‰ï¼š`ArrayList<String> list = new ArrayList<>();`

|**æ“ä½œç±»å‹**|**æ–¹æ³•å**|**è¯´æ˜**|**ç¤ºä¾‹**|||||
| --| ------| -------------------------------| ------| --| --| --| --|
|**å¢ (Add)**|â€‹`add(E e)`|æ·»åŠ å…ƒç´ åˆ°æœ«å°¾|â€‹`list.add("Java");`|||||
||â€‹`add(int index, E e)`|åœ¨æŒ‡å®šä½ç½®æ’å…¥ (åé¢å…ƒç´ åç§»)|â€‹`list.add(1, "Vue");`|||||
|**åˆ  (Delete)**|â€‹`remove(int index)`|**æŒ‰ç´¢å¼•**åˆ é™¤ï¼Œè¿”å›è¢«åˆ å…ƒç´ |â€‹`list.remove(0);`|||||
||â€‹`remove(Object o)`|**æŒ‰å…ƒç´ **åˆ é™¤ (åªåˆ ç¬¬ä¸€ä¸ªåŒ¹é…çš„)|â€‹`list.remove("Java");`|||||
|**æ”¹ (Update)**|â€‹`set(int index, E e)`|ä¿®æ”¹æŒ‡å®šä½ç½®çš„å…ƒç´ ï¼Œè¿”å›æ—§å€¼|â€‹`list.set(0, "Python");`|||||
|**æŸ¥ (Get)**|â€‹`get(int index)`|è·å–æŒ‡å®šä½ç½®çš„å…ƒç´ |â€‹`String s = list.get(0);`|||||
|**ä¿¡æ¯**|â€‹`size()`|è·å–é›†åˆå¤§å° (å…ƒç´ ä¸ªæ•°)|â€‹`list.size()`|||||
||â€‹`contains(Object o)`|åˆ¤æ–­æ˜¯å¦åŒ…å«æŸå…ƒç´ |â€‹`list.contains("Java")`|||||
||â€‹`isEmpty()`|åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º|â€‹`list.isEmpty()`|||||
||â€‹`clear()`|æ¸…ç©ºæ‰€æœ‰å…ƒç´ |â€‹`list.clear()`|||||

#### âš ï¸ ArrayList çš„ä¸€ä¸ªâ€œå¤§å‘â€ (Integer åœºæ™¯)

å½“ ArrayList å­˜å‚¨çš„æ˜¯æ•´æ•° (`ArrayList<Integer>`â€‹) æ—¶ï¼Œ`remove` æ–¹æ³•æå…¶å®¹æ˜“æ··æ·†ã€‚

Java

```
ArrayList<Integer> nums = new ArrayList<>();
nums.add(100);
nums.add(200);

// nums.remove(1);  // è¿™æ˜¯åˆ é™¤â€œç´¢å¼•ä¸º 1â€çš„å…ƒç´  (å³ 200)
// nums.remove(Integer.valueOf(1)); // è¿™æ˜¯åˆ é™¤â€œæ•°å€¼ä¸º 1â€çš„å…ƒç´  (æ‰¾ä¸åˆ°åˆ™ä¸åˆ )
```

- â€‹**è§„åˆ™**â€‹ï¼šä¼ å…¥ `int`â€‹ åŸºæœ¬ç±»å‹ï¼Œä¼šè¢«å½“ä½œâ€‹**ç´¢å¼•**â€‹ã€‚ä¼ å…¥ `Integer`â€‹ å¯¹è±¡ï¼Œä¼šè¢«å½“ä½œâ€‹**æ•°æ®**ã€‚

---

### ğŸ’¡ å¿…ä¼šæŠ€å·§ï¼šæ•°ç»„ä¸é›†åˆäº’è½¬

1. **String è½¬ ArrayList** (åˆ‡å‰²å­—ç¬¦ä¸²)
2. **ArrayList è½¬æ•°ç»„**

- è¿™ä¸¤ä¸ªæ“ä½œæ˜¯ Java å¼€å‘å’Œç®—æ³•é¢˜ï¼ˆLeetCodeï¼‰ä¸­**æœ€é«˜é¢‘**çš„æ•°æ®è½¬æ¢æ“ä½œã€‚

  è¿™é‡Œä¸ºä½ æä¾›æœ€æ ‡å‡†ã€æœ€ä¸å®¹æ˜“å‡ºé”™çš„å†™æ³•ï¼Œå¯ä»¥ç›´æ¥èƒŒä¸‹æ¥ã€‚

  ---

  ### 1. String è½¬ ArrayList (åˆ‡å‰²å­—ç¬¦ä¸²)

  â€‹**æ ¸å¿ƒæ­¥éª¤**ï¼š

  1. å…ˆç”¨ `split()`â€‹ åˆ‡å‰²æˆæ™®é€šæ•°ç»„ `String[]`ã€‚
  2. å†é€šè¿‡ `Arrays.asList()` è½¬ä¸º Listã€‚
  3. â€‹**å…³é”®ç‚¹**â€‹ï¼šå¿…é¡»å¤–é¢å†åŒ…ä¸€å±‚ `new ArrayList<>(...)`â€‹ï¼Œå¦åˆ™ç”Ÿæˆçš„åˆ—è¡¨â€‹**ä¸èƒ½å¢åˆ **ã€‚

  Java

  ```
  import java.util.ArrayList;
  import java.util.Arrays;
  import java.util.List; // å¯¼åŒ…

  public class StringToList {
      public static void main(String[] args) {
          String str = "Java,Vue,Spring";

          // ç¬¬ä¸€æ­¥ï¼šåˆ‡å‰² (å¾—åˆ°æ™®é€šæ•°ç»„)
          String[] arr = str.split(","); 

          // ç¬¬äºŒæ­¥ï¼šè½¬ä¸º ArrayList (æ ‡å‡†å†™æ³•)
          // è§£é‡Šï¼šArrays.asList(arr) åªæ˜¯ç”Ÿæˆä¸€ä¸ªåªè¯»/å®šé•¿çš„â€œè§†å›¾â€ï¼Œ
          // æ‰€ä»¥å¿…é¡»ç”¨ new ArrayList<>(...) åŒ…è£¹ï¼Œæ‰èƒ½è¿›è¡Œ add/remove æ“ä½œã€‚
          ArrayList<String> list = new ArrayList<>(Arrays.asList(arr));

          // éªŒè¯ï¼šå¯ä»¥æ·»åŠ æ–°å…ƒç´ äº†
          list.add("MyBatis");
          System.out.println(list); // è¾“å‡º: [Java, Vue, Spring, MyBatis]
      }
  }
  ```
  ---

  ### 2. ArrayList è½¬ æ•°ç»„ (String[])

  â€‹**æ ¸å¿ƒæ­¥éª¤**ï¼š

  ä½¿ç”¨ `toArray(T[] a)`â€‹ æ–¹æ³•ã€‚ä¸è¦ç›´æ¥ç”¨æ— å‚çš„ `toArray()`â€‹ï¼ˆå› ä¸ºå®ƒè¿”å›çš„æ˜¯ `Object[]`ï¼Œè¿˜å¾—å¼ºè½¬ï¼Œå¾ˆéº»çƒ¦ï¼‰ã€‚

  Java

  ```
  import java.util.ArrayList;

  public class ListToArray {
      public static void main(String[] args) {
          // å‡†å¤‡ä¸€ä¸ª ArrayList
          ArrayList<String> list = new ArrayList<>();
          list.add("å¼ ä¸‰");
          list.add("æå››");
          list.add("ç‹äº”");

          // --- æ ¸å¿ƒä»£ç  ---
          
          // æ¨èå†™æ³•ï¼šä¼ å…¥ new String[0] ä½œä¸ºâ€œç±»å‹æ¨¡æ¿â€
          // è§£é‡Šï¼š0 åªæ˜¯ä¸ºäº†å‘Šè¯‰ Java æˆ‘è¦è½¬æˆä»€ä¹ˆç±»å‹çš„æ•°ç»„ï¼Œ
          // Java å†…éƒ¨ä¼šè‡ªåŠ¨æ ¹æ® list çš„å®é™…é•¿åº¦åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°ç»„ã€‚
          String[] arr = list.toArray(new String[0]);

          // éå†éªŒè¯
          for (String s : arr) {
              System.out.println(s);
          }
      }
  }
  ```
  ---

  ### âš ï¸ é¿å‘æŒ‡å— (å¿…çœ‹)

  **å‘ 1ï¼šåƒä¸‡åˆ«ç›´æ¥ç”¨ Arrays.asList**

  Java

  ```
  String[] arr = {"A", "B"};
  List<String> list = Arrays.asList(arr); 

  // list.add("C"); // âŒ æŠ¥é”™ï¼UnsupportedOperationException
  // åŸå› ï¼šArrays.asList è¿”å›çš„æ˜¯ä¸€ä¸ªå›ºå®šé•¿åº¦çš„åˆ—è¡¨ï¼Œä¸æ”¯æŒå¢åˆ ã€‚
  ```
  âœ… â€‹**æ­£ç¡®**â€‹ï¼š`new ArrayList<>(Arrays.asList(arr))`

  **å‘ 2ï¼šArrayList è½¬æ•°ç»„ä¸è¦å¼ºè½¬**

  Java

  ```
  // Object[] objs = list.toArray();
  // String[] strs = (String[]) objs; // âŒ æŠ¥é”™ï¼ClassCastException
  // åŸå› ï¼šObject[] æ— æ³•ç›´æ¥å¼ºè½¬ä¸º String[]ã€‚
  ```
  âœ… â€‹**æ­£ç¡®**â€‹ï¼š`list.toArray(new String[0])`
